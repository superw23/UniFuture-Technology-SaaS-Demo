{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, vShow as _vShow, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"modal fade\",\n  id: \"addProduct\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"addProductLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_3 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_4 = {\n  class: \"modal-content\"\n};\nconst _hoisted_5 = {\n  class: \"modal-header\"\n};\nconst _hoisted_6 = {\n  class: \"modal-title\",\n  id: \"addProductLabel\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"modal-body\"\n};\nconst _hoisted_9 = {\n  class: \"input-group rounded\"\n};\nconst _hoisted_10 = [\"placeholder\"];\nconst _hoisted_11 = {\n  class: \"list-group\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_14 = {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n};\nconst _hoisted_15 = {\n  class: \"modal fade\",\n  id: \"addSupplier\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"addSupplierLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_16 = {\n  class: \"modal-dialog modal-dialog-scrollable\"\n};\nconst _hoisted_17 = {\n  class: \"modal-content\"\n};\nconst _hoisted_18 = {\n  class: \"modal-header\"\n};\nconst _hoisted_19 = {\n  class: \"modal-title\",\n  id: \"addSupplierLabel\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_21 = {\n  class: \"modal-body\"\n};\nconst _hoisted_22 = {\n  class: \"input-group rounded\"\n};\nconst _hoisted_23 = [\"placeholder\"];\nconst _hoisted_24 = {\n  key: 0,\n  class: \"list-group\"\n};\nconst _hoisted_25 = [\"onClick\"];\nconst _hoisted_26 = {\n  key: 1,\n  class: \"list-group\"\n};\nconst _hoisted_27 = [\"onClick\"];\nconst _hoisted_28 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_29 = {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n};\nconst _hoisted_30 = {\n  class: \"row col-md-4 offset-md-4\"\n};\nconst _hoisted_31 = {\n  key: 0,\n  class: \"alert alert-success\"\n};\nconst _hoisted_32 = {\n  key: 1,\n  class: \"alert alert-danger\"\n};\nconst _hoisted_33 = {\n  class: \"panel panel-primary\"\n};\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"icon1\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"empty-row\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_36 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"icon2\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_37 = {\n  class: \"panel-body\"\n};\nconst _hoisted_38 = {\n  for: \"name\"\n};\nconst _hoisted_39 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_40 = [\"placeholder\"];\nconst _hoisted_41 = {\n  id: \"datalistName\"\n};\nconst _hoisted_42 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-append\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#addProduct\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"input-group-text\",\n  type: \"button\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-search\",\n  style: {\n    \"font-size\": \"24px\"\n  }\n})])], -1 /* HOISTED */);\nconst _hoisted_43 = {\n  class: \"form-group\"\n};\nconst _hoisted_44 = {\n  key: 0,\n  for: \"type\",\n  class: \"form-label\"\n};\nconst _hoisted_45 = {\n  selected: \"\",\n  disabled: \"\",\n  value: \"\"\n};\nconst _hoisted_46 = {\n  key: 0,\n  class: \"form-group\",\n  id: \"showInput\",\n  required: \"\"\n};\nconst _hoisted_47 = {\n  for: \"newType\"\n};\nconst _hoisted_48 = {\n  class: \"form-group\"\n};\nconst _hoisted_49 = {\n  for: \"quantity\"\n};\nconst _hoisted_50 = [\"placeholder\"];\nconst _hoisted_51 = {\n  class: \"form-group\"\n};\nconst _hoisted_52 = {\n  for: \"price\"\n};\nconst _hoisted_53 = [\"placeholder\"];\nconst _hoisted_54 = {\n  for: \"supplierName\"\n};\nconst _hoisted_55 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_56 = [\"placeholder\"];\nconst _hoisted_57 = {\n  id: \"datalist\"\n};\nconst _hoisted_58 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-append\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#addSupplier\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"input-group-text\",\n  type: \"button\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-search\",\n  style: {\n    \"font-size\": \"24px\"\n  }\n})])], -1 /* HOISTED */);\nconst _hoisted_59 = {\n  class: \"input-group-append\"\n};\nconst _hoisted_60 = {\n  class: \"input-group-text\",\n  type: \"button\"\n};\nconst _hoisted_61 = {\n  class: \"form-group\"\n};\nconst _hoisted_62 = {\n  for: \"remarks\"\n};\nconst _hoisted_63 = [\"placeholder\"];\nconst _hoisted_64 = {\n  class: \"form-group\"\n};\nconst _hoisted_65 = {\n  for: \"date\"\n};\nconst _hoisted_66 = {\n  class: \"row align-items-center\"\n};\nconst _hoisted_67 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"empty-row2\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_68 = {\n  class: \"col-6\"\n};\nconst _hoisted_69 = {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n};\nconst _hoisted_70 = {\n  class: \"col-6\"\n};\nconst _hoisted_71 = {\n  type: \"button\",\n  class: \"btn btn-outline-primary\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Add purchase page \"), _createElementVNode(\"div\", null, [_createCommentVNode(\" Title of the page \"), _createElementVNode(\"h2\", null, _toDisplayString(_ctx.$t('Purchase.Create New Purchase')), 1 /* TEXT */), _hoisted_1, _createCommentVNode(\" Find a product \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h5\", _hoisted_6, _toDisplayString(_ctx.$t('Find a Product')), 1 /* TEXT */), _hoisted_7]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"search\",\n    class: \"form-control rounded\",\n    placeholder: _ctx.$t('Search'),\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.productSearch = $event)\n  }, null, 8 /* PROPS */, _hoisted_10), [[_vModelText, $data.productSearch]])]), _createElementVNode(\"ul\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredProducts, product => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"list-group-item\",\n      key: product.id\n    }, [_createElementVNode(\"input\", {\n      class: \"form-check-input\",\n      type: \"radio\",\n      name: \"productRadio\",\n      id: \"productRadio\",\n      onClick: $event => $options.setTempProduct(product.name),\n      \"aria-label\": \"...\"\n    }, null, 8 /* PROPS */, _hoisted_12), _createElementVNode(\"span\", null, _toDisplayString(product.name), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", _hoisted_14, _toDisplayString(_ctx.$t('No')), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    \"data-bs-dismiss\": \"modal\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.setProduct && $options.setProduct(...args))\n  }, _toDisplayString(_ctx.$t('Yes')), 1 /* TEXT */)])])])]), _createCommentVNode(\" Find a supplier \"), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"h5\", _hoisted_19, _toDisplayString(_ctx.$t('Find a Supplier')), 1 /* TEXT */), _hoisted_20]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"search\",\n    class: \"form-control rounded\",\n    placeholder: _ctx.$t('Search'),\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.supplierSearch = $event)\n  }, null, 8 /* PROPS */, _hoisted_23), [[_vModelText, $data.supplierSearch]])]), $data.productName ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_24, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.suppliersWithGivenProduct, supplier => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"list-group-item\",\n      key: supplier.id\n    }, [_createElementVNode(\"input\", {\n      class: \"form-check-input me-1\",\n      type: \"radio\",\n      name: \"certainSuppliers\",\n      id: \"certainSuppliers\",\n      onClick: $event => $options.setTempSupplier(supplier.company),\n      \"aria-label\": \"...\"\n    }, null, 8 /* PROPS */, _hoisted_25), _createTextVNode(\" \" + _toDisplayString(supplier.company), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"ul\", _hoisted_26, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredSuppliers, supplier => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"list-group-item\",\n      key: supplier.id\n    }, [_createElementVNode(\"input\", {\n      class: \"form-check-input\",\n      type: \"radio\",\n      name: \"supplierRadio\",\n      id: \"supplierRadio\",\n      onClick: $event => $options.setTempSupplier(supplier.company),\n      \"aria-label\": \"...\"\n    }, null, 8 /* PROPS */, _hoisted_27), _createElementVNode(\"span\", null, _toDisplayString(supplier.company), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]))]), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"button\", _hoisted_29, _toDisplayString(_ctx.$t('Cancel')), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    \"data-bs-dismiss\": \"modal\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.setSupplier && $options.setSupplier(...args))\n  }, _toDisplayString(_ctx.$t('OK')), 1 /* TEXT */)])])])]), _createElementVNode(\"div\", _hoisted_30, [_createCommentVNode(\" Show the following message if the purchase is to the database successfully\"), $data.isSuccess ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, _toDisplayString(_ctx.$t('Purchase.The purchase is added successfully!')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Show the following message if the supplier is not found\"), $data.supplierNotFound ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, _toDisplayString(_ctx.$t('Purchase.Supplier is not found!')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Purchase form to collect info of the purchase to be added \"), _createElementVNode(\"div\", _hoisted_33, [_hoisted_34, _createTextVNode(), _hoisted_35, _createTextVNode(), _hoisted_36, _createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"form\", {\n    onSubmit: _cache[17] || (_cache[17] = _withModifiers((...args) => $options.onCreatePost && $options.onCreatePost(...args), [\"prevent\"]))\n  }, [_createCommentVNode(\" Input name of the purchase \"), _createElementVNode(\"label\", _hoisted_38, _toDisplayString(_ctx.$t('Name')), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_39, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    list: \"datalistName\",\n    class: \"form-control\",\n    placeholder: _ctx.$t('Chips'),\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.name = $event),\n    onBlur: _cache[5] || (_cache[5] = (...args) => $options.auto && $options.auto(...args)),\n    required: \"\"\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_40), [[_vModelText, $data.name]]), _createElementVNode(\"datalist\", _hoisted_41, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredProducts, product => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: product.id\n    }, _toDisplayString(product.name), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _hoisted_42]), _createCommentVNode(\" Input type of the purchase \"), _createElementVNode(\"div\", _hoisted_43, [!$data.addNewType ? (_openBlock(), _createElementBlock(\"label\", _hoisted_44, _toDisplayString(_ctx.$t('Type')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select\",\n    \"aria-label\": \"Default select example\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.type = $event),\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.showNewType && $options.showNewType(...args)),\n    required: \"\"\n  }, [_createElementVNode(\"option\", _hoisted_45, _toDisplayString(_ctx.$t('Please choose a type')), 1 /* TEXT */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.distinctType, type => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: type\n    }, _toDisplayString(type), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"option\", null, _toDisplayString(_ctx.$t('Add a new type')), 1 /* TEXT */)], 512 /* NEED_PATCH */), [[_vModelSelect, $data.type]])]), _createCommentVNode(\" Input new type of the purchase \"), $data.addNewType ? (_openBlock(), _createElementBlock(\"div\", _hoisted_46, [_createElementVNode(\"label\", _hoisted_47, _toDisplayString(_ctx.$t('New Type')), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"newType\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.newType = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newType]])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Input quantity of the purchase \"), _createElementVNode(\"div\", _hoisted_48, [_createElementVNode(\"label\", _hoisted_49, _toDisplayString(_ctx.$t('Quantity')), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: _ctx.$t('e.g. 20'),\n    id: \"quantity\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.quantity = $event),\n    onInput: _cache[10] || (_cache[10] = (...args) => $options.validateQuantity && $options.validateQuantity(...args)),\n    required: \"\"\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_50), [[_vModelText, $data.quantity]]), _withDirectives(_createElementVNode(\"div\", {\n    class: \"text-danger\"\n  }, _toDisplayString(_ctx.$t('Please input a valid quantity')), 513 /* TEXT, NEED_PATCH */), [[_vShow, $data.quantityError]])]), _createCommentVNode(\" Input price of the purchase \"), _createElementVNode(\"div\", _hoisted_51, [_createElementVNode(\"label\", _hoisted_52, _toDisplayString(_ctx.$t('Purchase.Purchase Price')), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: _ctx.$t('e.g. 20'),\n    id: \"price\",\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.price = $event),\n    onInput: _cache[12] || (_cache[12] = (...args) => $options.validatePrice && $options.validatePrice(...args)),\n    required: \"\"\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_53), [[_vModelText, $data.price]]), _withDirectives(_createElementVNode(\"div\", {\n    class: \"text-danger\"\n  }, _toDisplayString(_ctx.$t('Please input a valid purchase price')), 513 /* TEXT, NEED_PATCH */), [[_vShow, $data.priceError]])]), _createCommentVNode(\" Input supplier name of the purchase \"), _createElementVNode(\"label\", _hoisted_54, _toDisplayString(_ctx.$t('Supplier Name')), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_55, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    list: \"datalist\",\n    class: \"form-control\",\n    placeholder: _ctx.$t('e.g. Tom'),\n    id: \"supplierName\",\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.supplierName = $event),\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_56), [[_vModelText, $data.supplierName]]), _createElementVNode(\"datalist\", _hoisted_57, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredSuppliers, supplier => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: supplier.id\n    }, _toDisplayString(supplier.company), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _hoisted_58, _createElementVNode(\"div\", _hoisted_59, [_createElementVNode(\"button\", _hoisted_60, [_createElementVNode(\"i\", {\n    class: \"fa fa-plus\",\n    style: {\n      \"font-size\": \"24px\"\n    },\n    onClick: _cache[14] || (_cache[14] = (...args) => $options.jumpToAddSupplier && $options.jumpToAddSupplier(...args))\n  })])])]), _createCommentVNode(\" Input description of the purchase \"), _createElementVNode(\"div\", _hoisted_61, [_createElementVNode(\"label\", _hoisted_62, _toDisplayString(_ctx.$t('Description')), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: _ctx.$t('e.g. Fragile; handle with care!'),\n    id: \"remarks\",\n    \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.remarks = $event),\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_63), [[_vModelText, $data.remarks]])]), _createCommentVNode(\" Input date of the purchase \"), _createElementVNode(\"div\", _hoisted_64, [_createElementVNode(\"label\", _hoisted_65, _toDisplayString(_ctx.$t('Date')), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    class: \"form-control\",\n    id: \"date\",\n    \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.date = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.date]])]), _createCommentVNode(\" Click the button to submit the purchase form to the backend \"), _createElementVNode(\"div\", _hoisted_66, [_hoisted_67, _createElementVNode(\"div\", _hoisted_68, [_createElementVNode(\"button\", _hoisted_69, _toDisplayString(_ctx.$t('Purchase.Add purchase')), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_70, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Purchase'\n    }\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"button\", _hoisted_71, _toDisplayString(_ctx.$t('Purchase.View Purchases')), 1 /* TEXT */)]),\n\n    _: 1 /* STABLE */\n  })])])], 32 /* HYDRATE_EVENTS */)])])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"mappings":";gCAMQA,oBAAM;;EAGDC,KAAK,EAAC,YAAY;EAACC,EAAE,EAAC,YAAY;EAACC,QAAQ,EAAC,IAAI;EAAC,iBAAe,EAAC,iBAAiB;EAAC,aAAW,EAAC;;;EAC3FF,KAAK,EAAC;AAAc;;EAChBA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAc;;EACjBA,KAAK,EAAC,aAAa;EAACC,EAAE,EAAC;;gCAC3BF,oBAA4F;EAApFI,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC,WAAW;EAAC,iBAAe,EAAC,OAAO;EAAC,YAAU,EAAC;;;EAE1EA,KAAK,EAAC;AAAY;;EACdA,KAAK,EAAC;AAAqB;;;EAG5BA,KAAK,EAAC;AAAY;;;EAOrBA,KAAK,EAAC;AAAc;;EACbG,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC,mBAAmB;EAAC,iBAAe,EAAC;;;EAQ3EA,KAAK,EAAC,YAAY;EAACC,EAAE,EAAC,aAAa;EAACC,QAAQ,EAAC,IAAI;EAAC,iBAAe,EAAC,kBAAkB;EAAC,aAAW,EAAC;;;EAC7FF,KAAK,EAAC;AAAsC;;EACxCA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAc;;EACjBA,KAAK,EAAC,aAAa;EAACC,EAAE,EAAC;;iCAC3BF,oBAA4F;EAApFI,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC,WAAW;EAAC,iBAAe,EAAC,OAAO;EAAC,YAAU,EAAC;;;EAE1EA,KAAK,EAAC;AAAY;;EACdA,KAAK,EAAC;AAAqB;;;;EAG5BA,KAAK,EAAC;;;;;EAMNA,KAAK,EAAC;;;;EAOTA,KAAK,EAAC;AAAc;;EACbG,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC,mBAAmB;EAAC,iBAAe,EAAC;;;EAO3EA,KAAK,EAAC;AAA0B;;;EAE5BA,KAAK,EAAC;;;;EAINA,KAAK,EAAC;;;EAKNA,KAAK,EAAC;AAAqB;iCAC5BD,oBAAyB;EAApBC,KAAK,EAAC;AAAO;iCAAQD,oBAA6B;EAAxBC,KAAK,EAAC;AAAW;iCAAQD,oBAAyB;EAApBC,KAAK,EAAC;AAAO;;EAErEA,KAAK,EAAC;AAAY;;EAGRI,GAAG,EAAC;AAAM;;EACZJ,KAAK,EAAC;AAAkB;;;EAEfC,EAAE,EAAC;AAAc;iCAG3BF,oBAIM;EAJDC,KAAK,EAAC,oBAAoB;EAAC,gBAAc,EAAC,OAAO;EAAC,gBAAc,EAAC;iBAClED,oBAES;EAFDC,KAAK,EAAC,kBAAkB;EAACG,IAAI,EAAC;iBAClCJ,oBAAoD;EAAjDC,KAAK,EAAC,cAAc;EAACK,KAAsB,EAAtB;IAAA;EAAA;;;EAK/BL,KAAK,EAAC;AAAY;;;EACZI,GAAG,EAAC,MAAM;EAACJ,KAAK,EAAC;;;EAEZM,QAAQ,EAAR,EAAQ;EAACC,QAAQ,EAAR,EAAQ;EAACC,KAAK,EAAC;;;;EAMnCR,KAAK,EAAC,YAAY;EAAmBC,EAAE,EAAC,WAAW;EAACQ,QAAQ,EAAR;;;EAC9CL,GAAG,EAAC;AAAS;;EAInBJ,KAAK,EAAC;AAAY;;EACZI,GAAG,EAAC;AAAU;;;EAKpBJ,KAAK,EAAC;AAAY;;EACZI,GAAG,EAAC;AAAO;;;EAKfA,GAAG,EAAC;AAAc;;EAChBJ,KAAK,EAAC;AAAkB;;;EAEnBC,EAAE,EAAC;AAAU;iCAGvBF,oBAIM;EAJDC,KAAK,EAAC,oBAAoB;EAAC,gBAAc,EAAC,OAAO;EAAC,gBAAc,EAAC;iBAClED,oBAES;EAFDC,KAAK,EAAC,kBAAkB;EAACG,IAAI,EAAC;iBAClCJ,oBAAmD;EAAhDC,KAAK,EAAC,cAAc;EAACK,KAAsB,EAAtB;IAAA;EAAA;;;EAG3BL,KAAK,EAAC;AAAoB;;EACnBA,KAAK,EAAC,kBAAkB;EAACG,IAAI,EAAC;;;EAMzCH,KAAK,EAAC;AAAY;;EACZI,GAAG,EAAC;AAAS;;;EAInBJ,KAAK,EAAC;AAAY;;EACZI,GAAG,EAAC;AAAM;;EAIhBJ,KAAK,EAAC;AAAwB;iCAC/BD,oBAA8B;EAAzBC,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAO;;EACNG,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC;;;EAI3BA,KAAK,EAAC;AAAO;;EAC+BG,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC;;;;6DA9J7FU,0CAA0B,EAC1BX,oBAoKM,cAnKFW,0CAA0B,EAC1BX,oBAA+C,6BAAzCY,OAAE,kDACRC,UAAM,EAENF,uCAAuB,EACvBX,oBAwBM,OAxBNc,UAwBM,GAvBFd,oBAsBM,OAtBNe,UAsBM,GArBFf,oBAoBM,OApBNgB,UAoBM,GAnBFhB,oBAGM,OAHNiB,UAGM,GAFFjB,oBAA0E,MAA1EkB,UAA0E,mBAA3BN,OAAE,oCACjDO,UAA4F,IAEhGnB,oBAUM,OAVNoB,UAUM,GATFpB,oBAEM,OAFNqB,UAEM,mBADFrB,oBAAuG;IAAhGI,IAAI,EAAC,QAAQ;IAACH,KAAK,EAAC,sBAAsB;IAAEqB,WAAW,EAAEV,OAAE;+DAAqBW,mBAAa;uDAAbA,mBAAa,OAExGvB,oBAKK,MALLwB,WAKK,sBAJDC,oBAGKC,6BAHyCC,yBAAgB,EAA3BC,OAAO;yBAA1CH,oBAGK;MAHDxB,KAAK,EAAC,iBAAiB;MAAsC4B,GAAG,EAAED,OAAO,CAAC1B;QAC1EF,oBAA2I;MAApIC,KAAK,EAAC,kBAAmB;MAACG,IAAI,EAAC,OAAO;MAAC0B,IAAI,EAAC,cAAc;MAAC5B,EAAE,EAAC,cAAc;MAAE6B,OAAK,YAAEJ,uBAAc,CAACC,OAAO,CAACE,IAAI;MAAG,YAAU,EAAC;0CACrI9B,oBAA6B,+BAArB4B,OAAO,CAACE,IAAI;sCAIhC9B,oBAGM,OAHNgC,WAGM,GAFFhC,oBAA6F,UAA7FiC,WAA6F,mBAAnBrB,OAAE,wBAC5EZ,oBAAgH;IAAxGI,IAAI,EAAC,QAAQ;IAACH,KAAK,EAAC,iBAAiB;IAAC,iBAAe,EAAC,OAAO;IAAE8B,OAAK,yCAAEJ,mDAAU;sBAAIf,OAAE,iCAM9GD,wCAAwB,EACxBX,oBA8BM,OA9BNkC,WA8BM,GA7BFlC,oBA4BM,OA5BNmC,WA4BM,GA3BFnC,oBA0BM,OA1BNoC,WA0BM,GAzBFpC,oBAGM,OAHNqC,WAGM,GAFFrC,oBAA4E,MAA5EsC,WAA4E,mBAA5B1B,OAAE,qCAClD2B,WAA4F,IAEhGvC,oBAgBM,OAhBNwC,WAgBM,GAfFxC,oBAEM,OAFNyC,WAEM,mBADFzC,oBAAwG;IAAjGI,IAAI,EAAC,QAAQ;IAACH,KAAK,EAAC,sBAAsB;IAAEqB,WAAW,EAAEV,OAAE;+DAAqBW,oBAAc;uDAAdA,oBAAc,OAE5EA,iBAAW,kBAAxCE,oBAKK,MALLiB,WAKK,sBAJDjB,oBAGKC,6BAH0Cd,8BAAyB,EAArC+B,QAAQ;yBAA3ClB,oBAGK;MAHDxB,KAAK,EAAC,iBAAiB;MAAgD4B,GAAG,EAAEc,QAAQ,CAACzC;QACrFF,oBAA4J;MAArJC,KAAK,EAAC,uBAAuB;MAACG,IAAI,EAAC,OAAO;MAAC0B,IAAI,EAAC,kBAAkB;MAAC5B,EAAE,EAAC,kBAAkB;MAAE6B,OAAK,YAAEJ,wBAAe,CAACgB,QAAQ,CAACC,OAAO;MAAG,YAAU,EAAC;2DAAM,GAC5J,oBAAED,QAAQ,CAACC,OAAO;qDAG1BnB,oBAKK,MALLoB,WAKK,sBAJDpB,oBAGKC,6BAH0CC,0BAAiB,EAA7BgB,QAAQ;yBAA3ClB,oBAGK;MAHDxB,KAAK,EAAC,iBAAiB;MAAwC4B,GAAG,EAAEc,QAAQ,CAACzC;QAC7EF,oBAAkJ;MAA3IC,KAAK,EAAC,kBAAmB;MAACG,IAAI,EAAC,OAAO;MAAC0B,IAAI,EAAC,eAAe;MAAC5B,EAAE,EAAC,eAAe;MAAE6B,OAAK,YAAEJ,wBAAe,CAACgB,QAAQ,CAACC,OAAO;MAAG,YAAU,EAAC;0CAC5I5C,oBAAiC,+BAAzB2C,QAAQ,CAACC,OAAO;uCAIpC5C,oBAGM,OAHN8C,WAGM,GAFF9C,oBAAiG,UAAjG+C,WAAiG,mBAAvBnC,OAAE,4BAC5EZ,oBAAgH;IAAxGI,IAAI,EAAC,QAAQ;IAACH,KAAK,EAAC,iBAAiB;IAAC,iBAAe,EAAC,OAAO;IAAE8B,OAAK,yCAAEJ,qDAAW;sBAAIf,OAAE,gCAM/GZ,oBAkGM,OAlGNgD,WAkGM,GAjGFrC,kGAAkF,EAC3CY,eAAS,kBAAhDE,oBAEM,OAFNwB,WAEM,mBADArC,OAAE,uGAERD,+EAA+D,EACzBY,sBAAgB,kBAAtDE,oBAEM,OAFNyB,WAEM,mBADAtC,OAAE,0FAGRD,kFAAkE,EAClEX,oBAsFM,OAtFNmD,WAsFM,GArFFC,WAAyB,sBAACC,WAA6B,sBAACC,WAAyB,EAEjFtD,oBAkFM,OAlFNuD,WAkFM,GAjFFvD,oBAgFO;IAhFAwD,QAAM,0DAAU7B,uDAAY;MAC/BhB,mDAAmC,EACnCX,oBAAwC,SAAxCyD,WAAwC,mBAApB7C,OAAE,0BACtBZ,oBAUM,OAVN0D,WAUM,mBATF1D,oBAAwI;IAAjII,IAAI,EAAC,MAAM;IAACuD,IAAI,EAAC,cAAc;IAAC1D,KAAK,EAAC,cAAc;IAAEqB,WAAW,EAAEV,OAAE;IAAWV,EAAE,EAAE,MAAM;+DAAUqB,UAAI;IAAIqC,MAAI,yCAAEjC,uCAAI;IAAEjB,QAAQ,EAAR;wEAApBa,UAAI,KAC/GvB,oBAEW,YAFX6D,WAEW,sBADPpC,oBAA2FC,6BAA/DC,yBAAgB,EAA3BC,OAAO;yBAAxBH,oBAA2F;MAA5CI,GAAG,EAAID,OAAO,CAAC1B;wBAAM0B,OAAO,CAACE,IAAI;oCAEpFgC,WAIM,IAEVnD,mDAAmC,EACnCX,oBAOM,OAPN+D,WAOM,IAN0CxC,gBAAU,kBAAtDE,oBAA8E,SAA9EuC,WAA8E,mBAApBpD,OAAE,+EAC5DZ,oBAIS;IAJDC,KAAK,EAAC,aAAa;IAAC,YAAU,EAAC,wBAAwB;+DAAUsB,UAAI;IAAGQ,OAAK,yCAAEJ,qDAAW;IAAEjB,QAAQ,EAAR;MAChGV,oBAA0E,UAA1EiE,WAA0E,mBAArCrD,OAAE,6DACvCa,oBAAkEC,6BAA3CH,kBAAY,EAApBnB,IAAI;yBAAnBqB,oBAAkE;MAA5BI,GAAG,EAAEzB;IAAI,oBAAIA,IAAI;kCACvDJ,oBAAyC,iCAA/BY,OAAE,6EAHyDW,UAAI,OAMjFZ,uDAAuC,EACTY,gBAAU,kBAAxCE,oBAGM,OAHNyC,WAGM,GAFFlE,oBAA+C,SAA/CmE,WAA+C,mBAAxBvD,OAAE,8CACzBZ,oBAAiF;IAA1EI,IAAI,EAAC,MAAM;IAACH,KAAK,EAAC,cAAc;IAACC,EAAE,EAAE,SAAS;+DAAUqB,aAAO;IAAEb,QAAQ,EAAR;iDAATa,aAAO,4CAE1EZ,uDAAuC,EACvCX,oBAIM,OAJNoE,WAIM,GAHFpE,oBAAgD,SAAhDqE,WAAgD,mBAAxBzD,OAAE,8CAC1BZ,oBAA0I;IAAnII,IAAI,EAAC,MAAM;IAACH,KAAK,EAAC,cAAc;IAAEqB,WAAW,EAAEV,OAAE;IAAaV,EAAE,EAAE,UAAU;+DAAUqB,cAAQ;IAAG+C,OAAK,2CAAE3C,+DAAgB;IAAEjB,QAAQ,EAAR;wEAApCa,cAAQ,qBACrGvB,oBAA6F;IAAjEC,KAAK,EAAC;EAAa,oBAAGW,OAAE,2EAAvCW,mBAAa,OAE9BZ,oDAAoC,EACpCX,oBAIM,OAJNuE,WAIM,GAHFvE,oBAA4D,SAA5DwE,WAA4D,mBAAvC5D,OAAE,6DACvBZ,oBAAiI;IAA1HI,IAAI,EAAC,MAAM;IAACH,KAAK,EAAC,cAAc;IAAEqB,WAAW,EAAEV,OAAE;IAAaV,EAAE,EAAE,OAAO;iEAAUqB,WAAK;IAAG+C,OAAK,2CAAE3C,yDAAa;IAAEjB,QAAQ,EAAR;wEAA9Ba,WAAK,qBAC/FvB,oBAAgG;IAAvEC,KAAK,EAAC;EAAa,oBAAGW,OAAE,iFAApCW,gBAAU,OAE3BZ,4DAA4C,EAC5CX,oBAAyD,SAAzDyE,WAAyD,mBAA7B7D,OAAE,mCAC1BZ,oBAeE,OAfF0E,WAeE,mBAdF1E,oBAAyI;IAAlII,IAAI,EAAC,MAAM;IAACuD,IAAI,EAAC,UAAU;IAAC1D,KAAK,EAAC,cAAc;IAAEqB,WAAW,EAAEV,OAAE;IAAcV,EAAE,EAAE,cAAc;iEAAUqB,kBAAY;IAAEb,QAAQ,EAAR;uDAAda,kBAAY,KAC9HvB,oBAEW,YAFX2E,WAEW,sBADPlD,oBAAkGC,6BAArEC,0BAAiB,EAA7BgB,QAAQ;yBAAzBlB,oBAAkG;MAAjDI,GAAG,EAAIc,QAAQ,CAACzC;wBAAMyC,QAAQ,CAACC,OAAO;oCAE3FgC,WAIM,EACN5E,oBAIM,OAJN6E,WAIM,GAHF7E,oBAES,UAFT8E,WAES,GADL9E,oBAA4E;IAAzEC,KAAK,EAAC,YAAY;IAACK,KAAsB,EAAtB;MAAA;IAAA,CAAsB;IAAEyB,OAAK,2CAAEJ,iEAAiB;YAIlFhB,0DAA0C,EAC1CX,oBAGM,OAHN+E,WAGM,GAFF/E,oBAAkD,SAAlDgF,WAAkD,mBAA3BpE,OAAE,iDACzBZ,oBAAsI;IAA/HI,IAAI,EAAC,MAAM;IAACH,KAAK,EAAC,cAAc;IAAEqB,WAAW,EAAEV,OAAE;IAAqCV,EAAE,EAAE,SAAS;iEAAUqB,aAAO;IAAEb,QAAQ,EAAR;uDAATa,aAAO,OAE/HZ,mDAAmC,EACnCX,oBAGM,OAHNiF,WAGM,GAFFjF,oBAAwC,SAAxCkF,WAAwC,mBAApBtE,OAAE,0CACtBZ,oBAA2E;IAApEI,IAAI,EAAC,MAAM;IAACH,KAAK,EAAC,cAAc;IAACC,EAAE,EAAE,MAAM;iEAAUqB,UAAI;IAAEb,QAAQ,EAAR;iDAANa,UAAI,OAEpEZ,oFAAoE,EACpEX,oBAUM,OAVNmF,WAUM,GATFC,WAA8B,EAC9BpF,oBAIM,OAJNqF,WAIM,GAHFrF,oBAES,UAFTsF,WAES,mBADH1E,OAAE,6CAGZZ,oBAEM,OAFNuF,WAEM,GADFC,aAAmJC;IAArIC,EAAE,EAAE;MAAA5D;IAAA;EAAiB;sBAAE,MAAgG,CAAhG9B,oBAAgG,UAAhG2F,WAAgG,mBAAxC/E,OAAE","names":["_createElementVNode","class","id","tabindex","type","for","style","selected","disabled","value","required","_createCommentVNode","_ctx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","placeholder","$data","_hoisted_11","_createElementBlock","_Fragment","$options","product","key","name","onClick","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_24","supplier","company","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","onSubmit","_hoisted_38","_hoisted_39","list","onBlur","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","onInput","_hoisted_51","_hoisted_52","_hoisted_54","_hoisted_55","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_createVNode","_component_router_link","to","_hoisted_71"],"sourceRoot":"","sources":["C:\\Users\\Ella\\Desktop\\vue-frontend\\src\\components\\Procurement\\Purchase\\AddPurchase.vue"],"sourcesContent":["// Made by GRPTeam202205\r\n<template>\r\n    <!-- Add purchase page -->\r\n    <div>\r\n        <!-- Title of the page -->\r\n        <h2>{{$t('Purchase.Create New Purchase')}}</h2>\r\n        <hr />\r\n\r\n        <!-- Find a product -->\r\n        <div class=\"modal fade\" id=\"addProduct\" tabindex=\"-1\" aria-labelledby=\"addProductLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"addProductLabel\">{{$t('Find a Product')}}</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"input-group rounded\">\r\n                            <input type=\"search\" class=\"form-control rounded\" :placeholder=\"$t('Search')\" v-model=\"productSearch\"/>\r\n                        </div>\r\n                        <ul class=\"list-group\">\r\n                            <li class=\"list-group-item\" v-for=\"product in filteredProducts\" :key=\"product.id\">\r\n                                <input class=\"form-check-input \" type=\"radio\" name=\"productRadio\" id=\"productRadio\" @click=\"setTempProduct(product.name)\" aria-label=\"...\">\r\n                                <span>{{product.name}}</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">{{$t('No')}}</button>\r\n                        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"setProduct\">{{$t('Yes')}}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Find a supplier -->\r\n        <div class=\"modal fade\" id=\"addSupplier\" tabindex=\"-1\" aria-labelledby=\"addSupplierLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog modal-dialog-scrollable\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"addSupplierLabel\">{{$t('Find a Supplier')}}</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"input-group rounded\">\r\n                            <input type=\"search\" class=\"form-control rounded\" :placeholder=\"$t('Search')\" v-model=\"supplierSearch\"/>\r\n                        </div>\r\n                        <ul class=\"list-group\" v-if=\"productName\">\r\n                            <li class=\"list-group-item\" v-for=\"supplier in suppliersWithGivenProduct\" :key=\"supplier.id\">\r\n                                <input class=\"form-check-input me-1\" type=\"radio\" name=\"certainSuppliers\" id=\"certainSuppliers\" @click=\"setTempSupplier(supplier.company)\" aria-label=\"...\">\r\n                                {{supplier.company}}\r\n                            </li>\r\n                        </ul>\r\n                        <ul class=\"list-group\" v-else>\r\n                            <li class=\"list-group-item\" v-for=\"supplier in filteredSuppliers\" :key=\"supplier.id\">\r\n                                <input class=\"form-check-input \" type=\"radio\" name=\"supplierRadio\" id=\"supplierRadio\" @click=\"setTempSupplier(supplier.company)\" aria-label=\"...\">\r\n                                <span>{{supplier.company}}</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">{{$t('Cancel')}}</button>\r\n                        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"setSupplier\">{{$t('OK')}}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row col-md-4 offset-md-4\">\r\n            <!-- Show the following message if the purchase is to the database successfully-->\r\n            <div class=\"alert alert-success\" v-if=\"isSuccess\">\r\n                {{$t('Purchase.The purchase is added successfully!')}}\r\n            </div>\r\n            <!-- Show the following message if the supplier is not found-->\r\n            <div class=\"alert alert-danger\" v-if=\"supplierNotFound\">\r\n                {{$t('Purchase.Supplier is not found!')}}\r\n            </div>\r\n\r\n            <!-- Purchase form to collect info of the purchase to be added -->\r\n            <div class=\"panel panel-primary\">\r\n                <div class=\"icon1\"></div> <div class=\"empty-row\"></div> <div class=\"icon2\"></div>\r\n\r\n                <div class=\"panel-body\">\r\n                    <form @submit.prevent=\"onCreatePost\">\r\n                        <!-- Input name of the purchase -->\r\n                        <label for=\"name\">{{$t('Name')}}</label>\r\n                        <div class=\"input-group mb-3\">\r\n                            <input type=\"text\" list=\"datalistName\" class=\"form-control\" :placeholder=\"$t('Chips')\" id= \"name\" v-model=\"name\"  @blur=\"auto\" required>\r\n                            <datalist id=\"datalistName\">\r\n                                <option v-for = \"product in filteredProducts\" :key = \"product.id\">{{product.name}}</option>   \r\n                            </datalist>\r\n                            <div class=\"input-group-append\" data-bs-toggle=\"modal\" data-bs-target=\"#addProduct\">\r\n                                <button class=\"input-group-text\" type=\"button\">\r\n                                    <i class=\"fa fa-search\" style=\"font-size:24px\" ></i>\r\n                                </button>\r\n                            </div> \r\n                        </div>\r\n                        <!-- Input type of the purchase -->\r\n                        <div class=\"form-group\">\r\n                            <label for=\"type\" class=\"form-label\" v-if=\"!addNewType\">{{$t('Type')}}</label>\r\n                            <select class=\"form-select\" aria-label=\"Default select example\" v-model=\"type\" @click=\"showNewType\" required>\r\n                                <option selected disabled value=\"\">{{$t('Please choose a type')}}</option>\r\n                                <option v-for=\"type in distinctType\" :key=\"type\">{{type}}</option>\r\n                                <option>{{$t('Add a new type')}}</option>\r\n                            </select>\r\n                        </div>\r\n                        <!-- Input new type of the purchase -->\r\n                        <div class=\"form-group\" v-if=\"addNewType\" id=\"showInput\" required>\r\n                            <label for=\"newType\">{{$t('New Type')}}</label>\r\n                            <input type=\"text\" class=\"form-control\" id= \"newType\" v-model=\"newType\" required>\r\n                        </div>\r\n                        <!-- Input quantity of the purchase -->\r\n                        <div class=\"form-group\">\r\n                            <label for=\"quantity\">{{$t('Quantity')}}</label>\r\n                            <input type=\"text\" class=\"form-control\" :placeholder=\"$t('e.g. 20')\" id= \"quantity\" v-model=\"quantity\" @input=\"validateQuantity\" required>\r\n                            <div v-show=\"quantityError\" class=\"text-danger\">{{$t('Please input a valid quantity')}}</div>\r\n                        </div>\r\n                        <!-- Input price of the purchase -->\r\n                        <div class=\"form-group\">\r\n                            <label for=\"price\">{{$t('Purchase.Purchase Price')}}</label>\r\n                            <input type=\"text\" class=\"form-control\" :placeholder=\"$t('e.g. 20')\" id= \"price\" v-model=\"price\" @input=\"validatePrice\" required>\r\n                            <div v-show=\"priceError\" class=\"text-danger\">{{$t('Please input a valid purchase price')}}</div>\r\n                        </div>\r\n                        <!-- Input supplier name of the purchase -->\r\n                        <label for=\"supplierName\">{{$t('Supplier Name')}}</label>\r\n                            <div class=\"input-group mb-3\">\r\n                            <input type=\"text\" list=\"datalist\" class=\"form-control\" :placeholder=\"$t('e.g. Tom')\" id= \"supplierName\" v-model=\"supplierName\" required>\r\n                            <datalist id=\"datalist\">\r\n                                <option v-for = \"supplier in filteredSuppliers\" :key = \"supplier.id\">{{supplier.company}}</option>   \r\n                            </datalist>\r\n                            <div class=\"input-group-append\" data-bs-toggle=\"modal\" data-bs-target=\"#addSupplier\">\r\n                                <button class=\"input-group-text\" type=\"button\">\r\n                                    <i class=\"fa fa-search\" style=\"font-size:24px\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"input-group-append\">\r\n                                <button class=\"input-group-text\" type=\"button\">\r\n                                    <i class=\"fa fa-plus\" style=\"font-size:24px\" @click=\"jumpToAddSupplier\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <!-- Input description of the purchase -->\r\n                        <div class=\"form-group\">\r\n                            <label for=\"remarks\">{{$t('Description')}}</label>\r\n                            <input type=\"text\" class=\"form-control\" :placeholder=\"$t('e.g. Fragile; handle with care!')\" id= \"remarks\" v-model=\"remarks\" required>\r\n                        </div>\r\n                        <!-- Input date of the purchase -->\r\n                        <div class=\"form-group\">\r\n                            <label for=\"date\">{{$t('Date')}}</label>\r\n                            <input type=\"date\" class=\"form-control\" id= \"date\" v-model=\"date\" required>\r\n                        </div>\r\n                        <!-- Click the button to submit the purchase form to the backend -->\r\n                        <div class=\"row align-items-center\">\r\n                            <div class=\"empty-row2\"></div>\r\n                            <div class=\"col-6\">\r\n                                <button type=\"submit\" class=\"btn btn-primary\">\r\n                                    {{$t('Purchase.Add purchase')}}\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <router-link :to=\"{name:'Purchase'}\"><button type=\"button\" class=\"btn btn-outline-primary\">{{$t('Purchase.View Purchases')}}</button></router-link>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport SupplierService from '@/services/Supplier/SupplierService'\r\nimport PurchaseService from '@/services/Purchase/PurchaseService'\r\nimport BilibiliService from '@/services/Bilibili/BilibiliService'\r\nexport default {\r\n    data() {\r\n        return {\r\n            name: '',//store the name of the purchase\r\n            type: '',//store the type of the purchase\r\n            quantity: '',//store the quantity of the purchase\r\n            price: '',//store the price of the purchase\r\n            supplierName: '',//store the supplier name of the purchase\r\n            tempSupplierName: '',//store the name of the supplier temporarily\r\n            tempProductName: '',//store the name of the product temporarily\r\n            remarks: '',//store the remarks of the purchase\r\n            date: '',//store the date of the purchase\r\n            purchases: '',\r\n            supplierSearch: '',\r\n            productSearch: '',\r\n            products: [],\r\n            productName: '',//name of the product\r\n            isSuccess: false,//true if the purchase is added successfully, else false\r\n            supplierNotFound: false,//true if the supplier is not found, else false\r\n            productNotFound: false,//true if the product is not found, else false\r\n            supplierExistence : true,//true if the supplier is not found, else false\r\n            availability : true,//true if the number of products is available, else false\r\n            noAvailability: '',//true if the number of products is not available, else false\r\n            suppliers: [],//store suppliers\r\n            addNewType: false,//true if a new type will be added, else false,\r\n            distinctType: [],\r\n            newType: '',//store new type of the purchase\r\n            quantityError: false,\r\n            priceError: false,\r\n        };\r\n    },\r\n    methods: {\r\n        // add a new purchase\r\n        //check the validity of all inputs\r\n        async onCreatePost() {\r\n            if (this.quantityError || this.priceError) {\r\n                alert('Please correct the errors before submitting.');\r\n                return;\r\n            }\r\n            await this.checkSupplierExistence()\r\n            this.addPurchase()\r\n        },\r\n        // pass the purchase information to the backend\r\n        addPurchase(){\r\n            if(this.supplierExistence){\r\n                if(this.addNewType){\r\n                    axios\r\n                    .post(`addPurchase`, {\r\n                        name: this.name,\r\n                        type: this.newType,\r\n                        num: this.quantity,\r\n                        price: this.price,\r\n                        total: this.price * this.quantity,\r\n                        supplierName: this.supplierName,\r\n                        remarks: this.remarks,\r\n                        date: this.date\r\n                    })\r\n                    .then((response) => {\r\n                        this.isSuccess = true;\r\n                        this.supplierNotFound = false;\r\n                        this.productNotFound = false;\r\n                        this.isSuccess = true;\r\n                        this.supplierNotFound = false;\r\n                        this.productNotFound = false;\r\n                        this.name = '',\r\n                        this.type = '',\r\n                        this.newType = ''\r\n                        this.quantity = '',\r\n                        this.price = '',\r\n                        this.supplierName = '',\r\n                        this.remarks = '',\r\n                        this.date = ''\r\n                    });\r\n                    this.addNewType = false;\r\n                }\r\n                else{\r\n                    axios\r\n                    .post(`addPurchase`, {\r\n                        name: this.name,\r\n                        type: this.type,\r\n                        num: this.quantity,\r\n                        price: this.price,\r\n                        total: this.price * this.quantity,\r\n                        supplierName: this.supplierName,\r\n                        remarks: this.remarks,\r\n                        date: this.date\r\n                    })\r\n                    .then((response) => {\r\n                        this.isSuccess = true;\r\n                        this.supplierNotFound = false;\r\n                        this.productNotFound = false;\r\n                        this.name = '',\r\n                        this.type = '',\r\n                        this.newType = ''\r\n                        this.quantity = '',\r\n                        this.price = '',\r\n                        this.supplierName = '',\r\n                        this.remarks = '',\r\n                        this.date = ''\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        //check the existence of the supplier in the database\r\n        async checkSupplierExistence(){\r\n            await axios\r\n                .get('checkSupplierExistence', {params:{supplierName:this.supplierName}  \r\n                })\r\n                .then((response) => {\r\n                    if(response.data == false){\r\n                        this.supplierNotFound = true;\r\n                        this.isSuccess = false;\r\n                        this.productNotFound = false;\r\n                        this.supplierExistence = false;\r\n                    }else{\r\n                        this.supplierNotFound = false;\r\n                        this.isSuccess = false;\r\n                        this.productNotFound = false;\r\n                        this.supplierExistence = true;\r\n                    }\r\n                });\r\n        },\r\n        //get suppliers \r\n        getAllSuppliers(){\r\n            SupplierService.getSuppliers().then((response)=>{\r\n                this.suppliers = response.data\r\n            })\r\n        },\r\n        //get products \r\n        getAllProducts(){\r\n            BilibiliService.getDistinctProducts().then((response)=>{\r\n                this.products = response.data\r\n            })\r\n        },\r\n        //automatically fill in the purchase form \r\n        auto(){\r\n            PurchaseService.getPurchaseContent(this.name).then((response)=>{\r\n                this.type = response.data.type,\r\n                this.quantity = response.data.num,\r\n                this.price = response.data.price,\r\n                this.supplierName = response.data.supplierName,\r\n                this.remarks = response.data.remarks,\r\n                this.date = response.data.date\r\n            })\r\n        },\r\n        setProduct(){\r\n            this.name = this.tempProductName\r\n        },\r\n        setSupplier(){\r\n            this.supplierName = this.tempSupplierName\r\n        },\r\n        setTempSupplier(company){\r\n            this.tempSupplierName = company\r\n        },\r\n        setTempProduct(name){\r\n            this.tempProductName = name\r\n        },\r\n        //go to the add supplier page\r\n        jumpToAddSupplier(){\r\n            this.$router.push({path:'/addSupplier'})\r\n        },\r\n        //show adding new type input bar\r\n        showNewType(){\r\n            PurchaseService.getPurchasesWithDistinctTypes().then((response)=>{\r\n                this.distinctType = response.data\r\n            })\r\n            if(this.type == 'Add a new type'){\r\n                this.addNewType = true\r\n                $('showInput').show()\r\n            }else{\r\n                this.addNewType = false\r\n                $('showInput').hide()\r\n            }\r\n        },\r\n        //Check if the input quantity is valid\r\n        validateQuantity() {\r\n              const quantityRegex = /^[1-9]\\d*$/;\r\n              if (!quantityRegex.test(this.quantity)) {\r\n                this.quantityError = true;\r\n              } else {\r\n                this.quantityError = false;\r\n              }\r\n        },\r\n        //Check if the input price is valid\r\n        validatePrice() {\r\n              const priceRegex = /^[1-9]\\d*(\\.\\d{1,2})?$/;\r\n              if (!priceRegex.test(this.price)) {\r\n                this.priceError = true;\r\n              } else {\r\n                this.priceError = false;\r\n              }\r\n        }\r\n    },\r\n    computed:{\r\n        //Get required suppliers after searching\r\n        filteredSuppliers(){\r\n            return this.suppliers.filter(supplier => supplier.company.toLowerCase().includes(this.supplierSearch.toLowerCase()));\r\n        },\r\n        //Get required products after searching\r\n        filteredProducts(){\r\n            return this.products.filter(product => product.name.toLowerCase().includes(this.productSearch.toLowerCase()));\r\n        },\r\n    },\r\n    created(){\r\n        this.getAllSuppliers()\r\n        this.getAllProducts()\r\n    }\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}