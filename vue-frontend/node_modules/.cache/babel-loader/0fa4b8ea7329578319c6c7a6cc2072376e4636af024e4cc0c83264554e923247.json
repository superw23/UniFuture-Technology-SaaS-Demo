{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_3 = {\n  class: \"dropdown\"\n};\nconst _hoisted_4 = {\n  class: \"btn dropdown-toggle\",\n  type: \"button\",\n  id: \"dropdownMenu2\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_5 = {\n  class: \"dropdown-menu\",\n  \"aria-labelledby\": \"dropdownMenu2\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"d-flex\",\n  role: \"search\"\n};\nconst _hoisted_8 = [\"placeholder\"];\nconst _hoisted_9 = {\n  class: \"btn btn-outline-success\",\n  type: \"submit\"\n};\nconst _hoisted_10 = {\n  class: \"container\"\n};\nconst _hoisted_11 = {\n  class: \"test-center\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"alert alert-success\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_14 = {\n  class: \"row align-items-center\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_16 = {\n  class: \"col-2\"\n};\nconst _hoisted_17 = [\"placeholder\"];\nconst _hoisted_18 = {\n  class: \"col-2\"\n};\nconst _hoisted_19 = [\"placeholder\"];\nconst _hoisted_20 = {\n  class: \"col-auto\"\n};\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_23 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_24 = {\n  class: \"table table-stripped\"\n};\nconst _hoisted_25 = {\n  class: \"badge badge-success rounded-pill\"\n};\nconst _hoisted_26 = {\n  class: \"navbar\"\n};\nconst _hoisted_27 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_28 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_29 = {\n  \"aria-label\": \"Page navigation example\"\n};\nconst _hoisted_30 = {\n  class: \"pagination\"\n};\nconst _hoisted_31 = {\n  class: \"page-item\"\n};\nconst _hoisted_32 = {\n  class: \"page-item\"\n};\nconst _hoisted_33 = {\n  class: \"page-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\"Search bar\"), _createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\"Drop-down menu to choose the number of Records Per Page\"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", _hoisted_4, _toDisplayString(_ctx.$t('Records Per Page')), 1 /* TEXT */), _createElementVNode(\"ul\", _hoisted_5, [_createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.changeItemPerPage(5))\n  }, \"5\")]), _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    type: \"button\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.changeItemPerPage(10))\n  }, \"10\")]), _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    type: \"button\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.changeItemPerPage(15))\n  }, \"15\")])])]), _hoisted_6, _createElementVNode(\"form\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control me-2\",\n    type: \"search\",\n    placeholder: _ctx.$t('Search'),\n    \"aria-label\": \"Search\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.search = $event)\n  }, null, 8 /* PROPS */, _hoisted_8), [[_vModelText, $data.search]]), _createElementVNode(\"button\", _hoisted_9, _toDisplayString(_ctx.$t('Search')), 1 /* TEXT */)])])]), _createCommentVNode(\"Purchase List\"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h1\", _hoisted_11, _toDisplayString(_ctx.$t('Purchase.Returned Purchases')), 1 /* TEXT */), $data.isSuccess ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _toDisplayString(_ctx.$t('Purchase.The purchase is returned successfully! Refresh the page to see the result.')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_13, _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createTextVNode(_toDisplayString(_ctx.$t('Start Date:')) + \" \", 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    class: \"form-control me-2\",\n    placeholder: _ctx.$t('Choose a start date'),\n    id: \"date\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.startDate = $event)\n  }, null, 8 /* PROPS */, _hoisted_17), [[_vModelText, $data.startDate]])]), _createElementVNode(\"div\", _hoisted_18, [_createTextVNode(_toDisplayString(_ctx.$t('End Date:')) + \" \", 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    class: \"form-control\",\n    placeholder: _ctx.$t('Choose an end date'),\n    id: \"date\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.endDate = $event)\n  }, null, 8 /* PROPS */, _hoisted_19), [[_vModelText, $data.endDate]])]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"img\", {\n    src: \"/static/check.png\",\n    width: \"20\",\n    height: \"20\",\n    type: \"submit\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.getPurchasesWithinGivenDates && $options.getPurchasesWithinGivenDates(...args))\n  })]), _hoisted_21]), _hoisted_22, _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"table\", _hoisted_24, [_createElementVNode(\"thead\", null, [_createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-numeric-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.sort('id'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Purchase.Purchase ID')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[8] || (_cache[8] = $event => $options.sort('name'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Name')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[9] || (_cache[9] = $event => $options.sort('type'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Type')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[10] || (_cache[10] = $event => $options.sort('num'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Quantity')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[11] || (_cache[11] = $event => $options.sort('returnPrice'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Return Price')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[12] || (_cache[12] = $event => $options.sort('total'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Total')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[13] || (_cache[13] = $event => $options.sort('productId'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Product ID')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[14] || (_cache[14] = $event => $options.sort('supplierName'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Supplier Name')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[15] || (_cache[15] = $event => $options.sort('remarks'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Description')), 1 /* TEXT */)])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredPurchases, purchase => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: purchase.id,\n      class: \"table-bordered\"\n    }, [_createElementVNode(\"td\", null, _toDisplayString(purchase.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.name), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", _hoisted_25, _toDisplayString(purchase.type), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(purchase.returnNum), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.returnPrice), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.returnTotal), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.productId), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.supplierName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.remarks), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"h5\", null, _toDisplayString(_ctx.$t('Purchase.Total return purchases')) + \": \" + _toDisplayString($options.total), 1 /* TEXT */), _createElementVNode(\"img\", {\n    src: \"/static/Others/pdf.png\",\n    width: \"38\",\n    height: \"35\",\n    type: \"button\",\n    onClick: _cache[16] || (_cache[16] = (...args) => $options.downloadPDF && $options.downloadPDF(...args))\n  }), _createTextVNode(\"   \"), _createElementVNode(\"img\", {\n    src: \"/static/Others/xlsx.png\",\n    width: \"35\",\n    height: \"35\",\n    type: \"button\",\n    onClick: _cache[17] || (_cache[17] = (...args) => $options.downloadExcel && $options.downloadExcel(...args))\n  })]), _createCommentVNode(\"Page navigation bar\"), _createElementVNode(\"nav\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"h5\", null, \"Total Pages: \" + _toDisplayString(this.totalPages), 1 /* TEXT */), _hoisted_28, _createElementVNode(\"nav\", _hoisted_29, [_createElementVNode(\"ul\", _hoisted_30, [_createElementVNode(\"li\", _hoisted_31, [_createElementVNode(\"a\", {\n    class: \"page-link\",\n    href: \"#\",\n    onClick: _cache[18] || (_cache[18] = $event => $options.pagination(this.pageNum - 1))\n  }, _toDisplayString(_ctx.$t('Previous')), 1 /* TEXT */)]), _createElementVNode(\"li\", _hoisted_32, [_createElementVNode(\"a\", {\n    class: \"page-link\",\n    href: \"#\",\n    onClick: _cache[19] || (_cache[19] = $event => $options.pagination(0))\n  }, _toDisplayString(this.pageNum + 1), 1 /* TEXT */)]), _createElementVNode(\"li\", _hoisted_33, [_createElementVNode(\"a\", {\n    class: \"page-link\",\n    href: \"#\",\n    onClick: _cache[20] || (_cache[20] = $event => $options.pagination($data.pageNum + 1))\n  }, _toDisplayString(_ctx.$t('Next')), 1 /* TEXT */)])])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","type","id","_createElementVNode","role","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_ctx","_hoisted_5","onClick","$options","_hoisted_6","_hoisted_7","placeholder","$data","_hoisted_9","_hoisted_10","_hoisted_11","_createElementBlock","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_hoisted_20","src","width","height","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_Fragment","purchase","key","name","_hoisted_25","returnNum","returnPrice","returnTotal","productId","supplierName","remarks","_hoisted_26","_hoisted_27","totalPages","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","href","pageNum","_hoisted_32","_hoisted_33"],"sourceRoot":"","sources":["C:\\Users\\SuperW\\Desktop\\暑期实习\\vue-frontend\\src\\components\\Procurement\\Purchase\\ReturnPurchase.vue"],"sourcesContent":["// Made by GRPTeam202205\r\n<template>\r\n    <!--Search bar-->\r\n    <nav class=\"navbar\">\r\n        <div class=\"container-fluid\">\r\n            <!--Drop-down menu to choose the number of Records Per Page-->\r\n            <div class=\"dropdown\">\r\n                <button class=\"btn dropdown-toggle\" type=\"button\" id=\"dropdownMenu2\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                    {{$t('Records Per Page')}}\r\n                </button>\r\n                <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n                    <li><button class=\"dropdown-item\" type=\"button\" @click=\"changeItemPerPage(5)\">5</button></li>\r\n                    <li><button class=\"dropdown-item\" type=\"button\" @click=\"changeItemPerPage(10)\">10</button></li>\r\n                    <li><button class=\"dropdown-item\" type=\"button\" @click=\"changeItemPerPage(15)\">15</button></li>\r\n                </ul>\r\n            </div>\r\n            <a class=\"navbar-brand\"></a>\r\n            <form class=\"d-flex\" role=\"search\">\r\n            <input class=\"form-control me-2\" type=\"search\" :placeholder=\"$t('Search')\" aria-label=\"Search\" v-model=\"search\">\r\n            <button class=\"btn btn-outline-success\" type=\"submit\">{{$t('Search')}}</button>\r\n            </form>\r\n        </div>\r\n    </nav>\r\n\r\n    <!--Purchase List-->\r\n    <div class=\"container\">\r\n        <h1 class=\"test-center\">{{$t('Purchase.Returned Purchases')}}</h1>\r\n        <div class=\"alert alert-success\" v-if=\"isSuccess\">\r\n            {{$t('Purchase.The purchase is returned successfully! Refresh the page to see the result.')}}\r\n        </div>\r\n        <br>\r\n        <div class=\"row align-items-center\">\r\n            <div class=\"col\"></div>\r\n            <div class=\"col-2\">\r\n                {{$t('Start Date:')}} <input  type=\"date\" class=\"form-control me-2\" :placeholder=\"$t('Choose a start date')\" id= \"date\" v-model=\"startDate\">\r\n            </div>\r\n            <div class=\"col-2\">\r\n                {{$t('End Date:')}} <input type=\"date\" class=\"form-control\" :placeholder=\"$t('Choose an end date')\" id= \"date\" v-model=\"endDate\">\r\n            </div>\r\n            <div class=\"col-auto\">\r\n            <img src=\"/static/check.png\" width=\"20\" height=\"20\" type=\"submit\" @click=\"getPurchasesWithinGivenDates\"/>\r\n            </div>\r\n            <div class=\"col\"></div>\r\n        </div>\r\n        <br>\r\n        <div class=\"table-responsive\">\r\n            <table class=\"table table-stripped\">\r\n                <thead>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-numeric-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('id')\"/>\r\n                        {{$t('Purchase.Purchase ID')}}\r\n                    </th>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('name')\"/>\r\n                        {{$t('Name')}}\r\n                    </th>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('type')\"/>\r\n                        {{$t('Type')}}\r\n                    </th>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('num')\"/>\r\n                        {{$t('Quantity')}}\r\n                    </th>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('returnPrice')\"/>\r\n                        {{$t('Return Price')}}\r\n                    </th>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('total')\"/>\r\n                        {{$t('Total')}}\r\n                    </th>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('productId')\"/>\r\n                        {{$t('Product ID')}}\r\n                    </th>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('supplierName')\"/>\r\n                        {{$t('Supplier Name')}}\r\n                    </th>\r\n                    <th>\r\n                        <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('remarks')\"/>\r\n                        {{$t('Description')}}\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for = \"purchase in filteredPurchases\" v-bind:key = \"purchase.id\" class=\"table-bordered\">\r\n                        <td>{{purchase.id}}</td>\r\n                        <td>{{purchase.name}}</td>\r\n                        <td><span class=\"badge badge-success rounded-pill\">{{purchase.type}}</span></td>\r\n                        <td>{{purchase.returnNum}}</td>\r\n                        <td>{{purchase.returnPrice}}</td>\r\n                        <td>{{purchase.returnTotal}}</td>\r\n                        <td>{{purchase.productId}}</td>\r\n                        <td>{{purchase.supplierName}}</td>\r\n                        <td>{{purchase.remarks}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <h5>{{$t('Purchase.Total return purchases')}}: {{total}}</h5>\r\n        <img src=\"/static/Others/pdf.png\" width=\"38\" height=\"35\" type=\"button\" @click=\"downloadPDF\"/>\r\n        &nbsp\r\n        <img src=\"/static/Others/xlsx.png\" width=\"35\" height=\"35\" type=\"button\" @click=\"downloadExcel\"/>\r\n    </div>\r\n    \r\n    <!--Page navigation bar-->\r\n    <nav class=\"navbar\">\r\n        <div class=\"container-fluid\">\r\n            <h5>Total Pages: {{this.totalPages}}</h5>\r\n            <a class=\"navbar-brand\"></a>\r\n            <nav aria-label=\"Page navigation example\">\r\n                <ul class=\"pagination\">\r\n                    <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"pagination(this.pageNum - 1)\">{{$t('Previous')}}</a></li>\r\n                    <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"pagination(0)\">{{this.pageNum+1}}</a></li>\r\n                    <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"pagination(pageNum+1)\">{{$t('Next')}}</a></li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    </nav>\r\n</template>\r\n\r\n<script>\r\nimport PurchaseService from '@/services/Purchase/PurchaseService';\r\nimport jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx'\r\n\r\nfunction s2ab(s) {\r\n  // Convert a string to an ArrayBuffer\r\n  const buf = new ArrayBuffer(s.length);\r\n  const view = new Uint8Array(buf);\r\n  for (let i = 0; i < s.length; i++) {\r\n    view[i] = s.charCodeAt(i) & 0xFF;\r\n  }\r\n  return buf;\r\n}\r\nexport default {\r\n    name: 'Purchases',\r\n    data(){\r\n        return{\r\n            itemsPerPage: 5,//the number of customer shown in one page\r\n            pageNum: 0,//store current page number\r\n            purchases: [],\r\n            fixedPurchases: [],\r\n            search:'',//store search content\r\n            startDate: '',\r\n            endDate: '',\r\n            isSuccess: false,\r\n            editing: false,\r\n            isEdited: false,\r\n            pdfIconSize: '2em',\r\n            excelIconSize: '2em',\r\n        }\r\n    },\r\n    methods:{\r\n        //Get all returned purchase records\r\n        async getReturnPurchases(){\r\n            await PurchaseService.getReturnPurchases().then((response)=>{\r\n                this.purchases = response.data;\r\n                this.fixedPurchases = response.data\r\n            });\r\n        },\r\n        //Sort returned purchase records of a given field\r\n        sort(field){\r\n            PurchaseService.sortReturnPurchases(this.pageNum, this.itemsPerPage, field).then((response)=>{\r\n                this.purchases = response.data;\r\n            });\r\n        },\r\n        //Get returned purchase records within given dates\r\n        getPurchasesWithinGivenDates(){\r\n            PurchaseService.getReturnPurchasesWithinGivenDates(this.startDate,this.endDate).then((response)=>{\r\n                this.purchases = response.data;\r\n            });\r\n        },\r\n        //Set the number of records shown in one page\r\n        pagination(pageNum){\r\n            this.pageNum = pageNum;\r\n            if(this.pageNum==-1) {\r\n                this.pageNum=0;\r\n                return;\r\n            }\r\n            console.log(this.pageNum) ;\r\n            PurchaseService.returnPagination(pageNum,this.itemsPerPage).then((response)=>{\r\n                this.purchases = response.data;\r\n            });\r\n        },\r\n        //Set the number of records shown in one page\r\n        changeItemPerPage(num){\r\n            this.itemsPerPage = num;\r\n            this.pagination(this.pageNum,this.itemsPerPage);\r\n        },\r\n        //Download the returned purchase table in pdf format\r\n        downloadPDF(){\r\n            const columns = [\r\n                    { header: 'Order No.', dataKey: 'id' },\r\n                    { header: 'Product ID', dataKey: 'productId' },\r\n                    { header: 'Name', dataKey: 'name' },\r\n                    { header: 'Type', dataKey: 'type' },\r\n                    { header: 'Quantity', dataKey: 'num' },\r\n                    { header: 'Return Price', dataKey: 'returnPrice' },\r\n                    { header: 'Total', dataKey: 'total' },\r\n                    { header: 'Description', dataKey: 'remarks' }\r\n                ];\r\n            const pdf = new jsPDF();\r\n            //text is placed using x, y coordinates\r\n            pdf.setFontSize(20).text(\"Returned Purchases\", 80, 10);\r\n            //use autoTable plugin\r\n            autoTable(pdf, {\r\n                columns,\r\n                body: this.purchases,\r\n                margin:{top: 30}\r\n            });\r\n            //show total stock\r\n            pdf.setFontSize(16).text('Total returned quantity: ' + this.total, 80, 20);\r\n            //download pdf\r\n            pdf.save(\"ReturnedPurchases.pdf\");\r\n        },\r\n        //Download the returned purchase table in excel format\r\n        downloadExcel() {\r\n             const filteredReturnedPurchases = this.filteredPurchases.map(purchases => {\r\n                return {\r\n                    PurchaseID: purchases.id,\r\n                    Name: purchases.name,\r\n                    Type: purchases.type,\r\n                    Quantity: purchases.num,\r\n                    ReturnPrice: purchases.returnPrice,\r\n                    Total: purchases.total,\r\n                    ProductID: purchases.productId,\r\n                    SupplierName: purchases.supplierName,\r\n                    Description: purchases.remarks,\r\n                    Date: purchases.date,\r\n                    };\r\n             });\r\n            // Create a new workbook\r\n            const wb = XLSX.utils.book_new();\r\n\r\n            // Add a new worksheet to the workbook\r\n            const ws = XLSX.utils.json_to_sheet(filteredReturnedPurchases);\r\n\r\n            // Add the worksheet to the workbook\r\n            XLSX.utils.book_append_sheet(wb, ws, 'Purchases');\r\n\r\n            // Write the workbook to a binary string\r\n            const wbout = XLSX.write(wb, { bookType: 'xlsx', type: 'binary' });\r\n\r\n            // Convert the binary string to a Blob object\r\n            const blob = new Blob([s2ab(wbout)], { type: 'application/octet-stream' });\r\n\r\n            // Create a temporary link to the file and trigger a download\r\n            const url = window.URL.createObjectURL(blob);\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.download = 'Returned Purchases.xlsx';\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n        }\r\n    },\r\n    async created(){\r\n        await this.getReturnPurchases()\r\n        this.itemsPerPage = this.purchases.length\r\n    },\r\n    computed:{\r\n        //Filter returned purchase records accoring to the product name\r\n        filteredPurchases(){\r\n            return this.purchases.filter(purchase => purchase.name.toLowerCase().includes(this.search.toLowerCase()));\r\n        },\r\n        //Calculate total number of returned purchase records\r\n        total(){\r\n            return this.purchases.reduce((total,curr)=>(total=total+curr.returnNum),0);\r\n        },\r\n        //Calculate total pages of returned purchase records\r\n        totalPages(){\r\n            return (Math.ceil(this.fixedPurchases.length / this.itemsPerPage))\r\n        }\r\n    }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}