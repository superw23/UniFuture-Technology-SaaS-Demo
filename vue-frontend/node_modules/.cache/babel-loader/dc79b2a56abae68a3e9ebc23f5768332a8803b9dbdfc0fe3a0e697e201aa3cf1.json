{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_3 = {\n  class: \"dropdown\"\n};\nconst _hoisted_4 = {\n  class: \"btn dropdown-toggle\",\n  type: \"button\",\n  id: \"dropdownMenu2\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_5 = {\n  class: \"dropdown-menu\",\n  \"aria-labelledby\": \"dropdownMenu2\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"d-flex\",\n  role: \"search\"\n};\nconst _hoisted_8 = [\"placeholder\"];\nconst _hoisted_9 = {\n  class: \"btn btn-outline-success\",\n  type: \"submit\"\n};\nconst _hoisted_10 = {\n  class: \"container\"\n};\nconst _hoisted_11 = {\n  class: \"test-center\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-cart-plus\",\n  style: {\n    \"font-size\": \"42px\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_13 = {\n  key: 0,\n  class: \"alert alert-success\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_16 = {\n  class: \"table table-stripped\"\n};\nconst _hoisted_17 = {\n  class: \"modal fade\",\n  id: \"onDelete\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"onDeleteLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_18 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_19 = {\n  class: \"modal-content\"\n};\nconst _hoisted_20 = {\n  class: \"modal-header\"\n};\nconst _hoisted_21 = {\n  class: \"modal-title\",\n  id: \"onDeleteLabel\"\n};\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_23 = {\n  class: \"modal-body\"\n};\nconst _hoisted_24 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_25 = {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n};\nconst _hoisted_26 = {\n  class: \"navbar\"\n};\nconst _hoisted_27 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_28 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_29 = {\n  \"aria-label\": \"Page navigation example\"\n};\nconst _hoisted_30 = {\n  class: \"pagination\"\n};\nconst _hoisted_31 = {\n  class: \"page-item\"\n};\nconst _hoisted_32 = {\n  class: \"page-item\"\n};\nconst _hoisted_33 = {\n  class: \"page-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_fa = _resolveComponent(\"fa\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\"Search bar\"), _createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\"Drop-down menu to choose the number of Records Per Page\"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", _hoisted_4, _toDisplayString(_ctx.$t('Records Per Page')), 1 /* TEXT */), _createElementVNode(\"ul\", _hoisted_5, [_createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.changeItemPerPage(5))\n  }, \"5\")]), _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    type: \"button\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.changeItemPerPage(10))\n  }, \"10\")]), _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    type: \"button\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.changeItemPerPage(15))\n  }, \"15\")])])]), _hoisted_6, _createElementVNode(\"form\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control me-2\",\n    type: \"search\",\n    placeholder: _ctx.$t('Search'),\n    \"aria-label\": \"Search\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.search = $event)\n  }, null, 8 /* PROPS */, _hoisted_8), [[_vModelText, $data.search]]), _createElementVNode(\"button\", _hoisted_9, _toDisplayString(_ctx.$t('Search')), 1 /* TEXT */)])])]), _createCommentVNode(\"Income List\"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h1\", _hoisted_11, [_createTextVNode(_toDisplayString(_ctx.$t('Income List')) + \" \", 1 /* TEXT */), _createVNode(_component_router_link, {\n    to: {\n      name: 'AddProduct'\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_12]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" Success Alert will be shown if the product is successfully deleted from the database. \"), $data.isSuccess ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _toDisplayString(_ctx.$t('Product.The product is deleted successfully!')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"table\", _hoisted_16, [_createElementVNode(\"thead\", null, [_createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.sort('转入单号'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Reference No.')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.sort('来源'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Source')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[6] || (_cache[6] = $event => $options.sort('转入贝壳'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Shells')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.sort('状态'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Status')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, [_createElementVNode(\"i\", {\n    class: \"fa fa-sort-alpha-asc\",\n    type: \"button\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[8] || (_cache[8] = $event => $options.sort('转入时间'))\n  }), _createTextVNode(\" \" + _toDisplayString(_ctx.$t('Time')), 1 /* TEXT */)]), _createElementVNode(\"th\", null, _toDisplayString(_ctx.$t('Delete')), 1 /* TEXT */)]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredRecords, record => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: record.id,\n      class: \"table-bordered\"\n    }, [_createElementVNode(\"td\", null, _toDisplayString(record.转入单号), 1 /* TEXT */), _createCommentVNode(\" <td>\\r\\n                        <router-link :to=\\\"'/typeDetails/'+ product.type\\\">\\r\\n                            <span class=\\\"badge badge-success rounded-pill\\\" type=\\\"button\\\">{{product.type}}</span>\\r\\n                        </router-link>\\r\\n                    </td> \"), _createElementVNode(\"td\", null, _toDisplayString(record.来源), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(record.贝壳), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(record.状态), 1 /* TEXT */), _createCommentVNode(\" <td>\\r\\n                        <router-link :to=\\\"'/supplierDetails/'+ product.name\\\">\\r\\n                            <fa icon=\\\"address-card\\\" type=\\\"button\\\" />\\r\\n                        </router-link>\\r\\n                    </td>   \"), _createElementVNode(\"td\", null, _toDisplayString(record.转入时间), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createCommentVNode(\" Modal \"), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"h5\", _hoisted_21, _toDisplayString(_ctx.$t('CONFIRM')), 1 /* TEXT */), _hoisted_22]), _createElementVNode(\"div\", _hoisted_23, _toDisplayString(_ctx.$t('Are your sure to delete the product?')), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"button\", _hoisted_25, _toDisplayString(_ctx.$t('No')), 1 /* TEXT */), _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      \"data-bs-dismiss\": \"modal\",\n      onClick: _cache[9] || (_cache[9] = $event => $options.deleteProduct(this.bilibiliName))\n    }, _toDisplayString(_ctx.$t('Yes')), 1 /* TEXT */)])])])]), _createVNode(_component_fa, {\n      icon: \"trash\",\n      type: \"button\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#onDelete\",\n      onClick: _cache[10] || (_cache[10] = $event => $options.getBilibiliName(_ctx.product.name))\n    })])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" Show the total product quantity \"), _createElementVNode(\"h5\", null, _toDisplayString(_ctx.$t('Total records')) + \": \" + _toDisplayString($options.total), 1 /* TEXT */), _createElementVNode(\"img\", {\n    src: \"/static/Others/pdf.png\",\n    width: \"38\",\n    height: \"35\",\n    type: \"button\",\n    onClick: _cache[11] || (_cache[11] = (...args) => $options.downloadPDF && $options.downloadPDF(...args))\n  }), _createTextVNode(\"   \"), _createElementVNode(\"img\", {\n    src: \"/static/Others/xlsx.png\",\n    width: \"35\",\n    height: \"35\",\n    type: \"button\",\n    onClick: _cache[12] || (_cache[12] = (...args) => $options.downloadExcel && $options.downloadExcel(...args))\n  })]), _createCommentVNode(\"Page navigation bar\"), _createElementVNode(\"nav\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"h5\", null, _toDisplayString(_ctx.$t('Total Pages: ')) + _toDisplayString(this.totalPages), 1 /* TEXT */), _hoisted_28, _createElementVNode(\"nav\", _hoisted_29, [_createElementVNode(\"ul\", _hoisted_30, [_createElementVNode(\"li\", _hoisted_31, [_createElementVNode(\"a\", {\n    class: \"page-link\",\n    href: \"#\",\n    onClick: _cache[13] || (_cache[13] = $event => $options.pagination(this.pageNum - 1))\n  }, _toDisplayString(_ctx.$t('Previous')), 1 /* TEXT */)]), _createElementVNode(\"li\", _hoisted_32, [_createElementVNode(\"a\", {\n    class: \"page-link\",\n    href: \"#\",\n    onClick: _cache[14] || (_cache[14] = $event => $options.pagination(0))\n  }, _toDisplayString(this.pageNum + 1), 1 /* TEXT */)]), _createElementVNode(\"li\", _hoisted_33, [_createElementVNode(\"a\", {\n    class: \"page-link\",\n    href: \"#\",\n    onClick: _cache[15] || (_cache[15] = $event => $options.pagination($data.pageNum + 1))\n  }, _toDisplayString(_ctx.$t('Next')), 1 /* TEXT */)])])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","type","id","_createElementVNode","role","style","tabindex","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_ctx","_hoisted_5","onClick","$options","_hoisted_6","_hoisted_7","placeholder","$data","_hoisted_9","_hoisted_10","_hoisted_11","_component_router_link","to","name","_hoisted_12","_createElementBlock","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_Fragment","record","key","转入单号","来源","贝壳","状态","转入时间","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","bilibiliName","_createVNode","_component_fa","icon","src","width","height","_hoisted_26","_hoisted_27","totalPages","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","href","pageNum","_hoisted_32","_hoisted_33"],"sourceRoot":"","sources":["C:\\Users\\Ella\\Desktop\\vue-frontend\\src\\components\\Bilibili\\Bilibili.vue"],"sourcesContent":["// Made by GRPTeam202205\r\n<template>\r\n    <!--Search bar-->\r\n    <nav class=\"navbar\">\r\n        <div class=\"container-fluid\">\r\n            <!--Drop-down menu to choose the number of Records Per Page-->\r\n            <div class=\"dropdown\">\r\n                <button class=\"btn dropdown-toggle\" type=\"button\" id=\"dropdownMenu2\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                    {{$t('Records Per Page')}}\r\n                </button>\r\n                <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n                    <li><button class=\"dropdown-item\" type=\"button\" @click=\"changeItemPerPage(5)\">5</button></li>\r\n                    <li><button class=\"dropdown-item\" type=\"button\" @click=\"changeItemPerPage(10)\">10</button></li>\r\n                    <li><button class=\"dropdown-item\" type=\"button\" @click=\"changeItemPerPage(15)\">15</button></li>\r\n                </ul>\r\n            </div>\r\n            <a class=\"navbar-brand\"></a>\r\n            <form class=\"d-flex\" role=\"search\">\r\n            <input class=\"form-control me-2\" type=\"search\" :placeholder=\"$t('Search')\" aria-label=\"Search\" v-model=\"search\">\r\n            <button class=\"btn btn-outline-success\" type=\"submit\">{{$t('Search')}}</button>\r\n            </form>\r\n        </div>\r\n    </nav>\r\n\r\n    <!--Income List-->\r\n    <div class=\"container\">\r\n        <h1 class=\"test-center\">{{$t('Income List')}}\r\n            <router-link :to=\"{name:'AddProduct'}\"><i class=\"fa fa-cart-plus\" style=\"font-size:42px\"></i></router-link>\r\n        </h1>\r\n        <!-- Success Alert will be shown if the product is successfully deleted from the database. -->\r\n        <div class=\"alert alert-success\" v-if=\"isSuccess\">\r\n            {{$t('Product.The product is deleted successfully!')}}\r\n        </div>\r\n        <br>\r\n        <div class=\"table-responsive\">\r\n        <table class=\"table table-stripped\">\r\n            <thead>\r\n                <th>\r\n                    <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('转入单号')\"/>\r\n                    {{$t('Reference No.')}}\r\n                </th>\r\n                <th>\r\n                    <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('来源')\"/>\r\n                    {{$t('Source')}}\r\n                </th>\r\n                <th>\r\n                    <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('转入贝壳')\"/>\r\n                    {{$t('Shells')}}\r\n                </th>\r\n                <th>\r\n                    <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('状态')\"/>\r\n                    {{$t('Status')}}\r\n                </th>\r\n                <th>\r\n                    <i class=\"fa fa-sort-alpha-asc\" type=\"button\" aria-hidden=\"true\" @click=\"sort('转入时间')\"/>\r\n                    {{$t('Time')}}\r\n                </th>\r\n                <th>\r\n                    {{$t('Delete')}}\r\n                </th>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for = \"record in filteredRecords\" v-bind:key = \"record.id\" class=\"table-bordered\">\r\n                    <td>{{record.转入单号}}</td>\r\n                    <!-- <td>\r\n                        <router-link :to=\"'/typeDetails/'+ product.type\">\r\n                            <span class=\"badge badge-success rounded-pill\" type=\"button\">{{product.type}}</span>\r\n                        </router-link>\r\n                    </td> -->\r\n                    <td>{{record.来源}}</td>\r\n                    <td>{{record.贝壳}}</td>\r\n                    <td>{{record.状态}}</td>\r\n                    <!-- <td>\r\n                        <router-link :to=\"'/supplierDetails/'+ product.name\">\r\n                            <fa icon=\"address-card\" type=\"button\" />\r\n                        </router-link>\r\n                    </td>   -->\r\n                    <td>{{record.转入时间}}</td>\r\n                    <td>\r\n                        <!-- Modal -->\r\n                        <div class=\"modal fade\" id=\"onDelete\" tabindex=\"-1\" aria-labelledby=\"onDeleteLabel\" aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog\">\r\n                                <div class=\"modal-content\">\r\n                                <div class=\"modal-header\">\r\n                                    <h5 class=\"modal-title\" id=\"onDeleteLabel\">{{$t('CONFIRM')}}</h5>\r\n                                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                                </div>\r\n                                <div class=\"modal-body\">{{$t('Are your sure to delete the product?')}}</div>\r\n                                <div class=\"modal-footer\">\r\n                                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">{{$t('No')}}</button>\r\n                                    <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"deleteProduct(this.bilibiliName)\">{{$t('Yes')}}</button>\r\n                                </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <fa icon=\"trash\" type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\"#onDelete\"  @click=\"getBilibiliName(product.name)\"/>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        </div>\r\n        <!-- Show the total product quantity -->\r\n        <h5>{{$t('Total records')}}: {{total}}</h5>\r\n        <img src=\"/static/Others/pdf.png\" width=\"38\" height=\"35\" type=\"button\" @click=\"downloadPDF\"/>\r\n        &nbsp\r\n        <img src=\"/static/Others/xlsx.png\" width=\"35\" height=\"35\" type=\"button\" @click=\"downloadExcel\"/>\r\n    </div>\r\n    \r\n    <!--Page navigation bar-->\r\n    <nav class=\"navbar\">\r\n        <div class=\"container-fluid\">\r\n            <h5>{{$t('Total Pages: ')}}{{this.totalPages}}</h5>\r\n            <a class=\"navbar-brand\"></a>\r\n            <nav aria-label=\"Page navigation example\">\r\n                <ul class=\"pagination\">\r\n                    <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"pagination(this.pageNum - 1)\">{{$t('Previous')}}</a></li>\r\n                    <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"pagination(0)\">{{this.pageNum+1}}</a></li>\r\n                    <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"pagination(pageNum+1)\">{{$t('Next')}}</a></li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    </nav>\r\n</template>\r\n\r\n<script>\r\nimport BilibiliService from '../../services/Bilibili/BilibiliService'\r\nimport jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx'\r\n\r\nfunction s2ab(s) {\r\n  // Convert a string to an ArrayBuffer\r\n  const buf = new ArrayBuffer(s.length);\r\n  const view = new Uint8Array(buf);\r\n  for (let i = 0; i < s.length; i++) {\r\n    view[i] = s.charCodeAt(i) & 0xFF;\r\n  }\r\n  return buf;\r\n}\r\nexport default {\r\n    name: 'Bilibili',\r\n    data(){\r\n        return{\r\n            itemsPerPage: '',//the number of customer shown in one page\r\n            pageNum: 0,//store current page number\r\n            bilibiliName: '',\r\n            products: [],//store all products with pagination\r\n            distinctRecords: [],//store products with distinct names\r\n            search:'',//store search content\r\n            isSuccess: false,//true if the product info needs editing, else false\r\n            pdfIconSize: '2em',\r\n            excelIconSize: '2em',\r\n        }\r\n    },\r\n    methods:{\r\n        //Get all products with distinct names from the database\r\n        // async getDistinctRecords(){\r\n        //     await BilibiliService.getDistinctRecords().then((response)=>{\r\n        //         this.distinctRecords = response.data;\r\n        //         this.products = response.data\r\n        //     });\r\n        // },\r\n        async getAllRecords(){\r\n            await BilibiliService.getAllRecords().then((response)=>{\r\n                this.distinctRecords = response.data;\r\n                this.products = response.data\r\n            });\r\n        },\r\n        //Delete a chosen product from the database\r\n        deleteProduct(bilibiliName) {\r\n            BilibiliService.deleteProduct(bilibiliName).then((response)=>{\r\n                this.isSuccess = true;\r\n                this.getDistinctRecords()\r\n            });\r\n        },\r\n        getBilibiliName(name){\r\n            this.bilibiliName = name\r\n        },\r\n        //Sort products by a given field, such as id, name\r\n        sort(field){\r\n            BilibiliService.sortAscending(this.pageNum, this.itemsPerPage, field).then((response)=>{\r\n                this.distinctRecords = response.data;\r\n            });\r\n        },\r\n        //Get records as required after paging\r\n        pagination(pageNum){\r\n            this.pageNum = pageNum;\r\n            if(this.pageNum == -1) {\r\n                this.pageNum = 0;\r\n                return;\r\n            }\r\n            BilibiliService.pagination(pageNum,this.itemsPerPage).then((response)=>{\r\n                this.distinctRecords = response.data;\r\n            });\r\n        },\r\n        //调整每页显示记录的数量\r\n        changeItemPerPage(num){\r\n            this.itemsPerPage = num;\r\n            this.pagination(this.pageNum,this.itemsPerPage);\r\n        },\r\n        //Jump to the product page for a given type\r\n        jumpToTypeDetailsPage(){\r\n            this.$router.push({path:'/typeDetails'})\r\n        },\r\n        //Download the pdf format of the product table\r\n        downloadPDF(){\r\n            const columns = [\r\n                    { header: 'Product ID', dataKey: 'id' },\r\n                    { header: 'Name', dataKey: 'name' },\r\n                    { header: 'Quantity', dataKey: 'quantity' },\r\n                    { header: 'Purchase Price', dataKey: 'purchasePrice' },\r\n                    { header: 'Sale Price', dataKey: 'sellPrice' },\r\n                    { header: 'Supplier Name', dataKey: 'supplierId' },\r\n                    { header: 'Remarks', dataKey: 'remarks' }\r\n                ];\r\n            const pdf = new jsPDF();\r\n            //text is placed using x, y coordinates\r\n            pdf.setFontSize(20).text(\"Product List\", 80, 10);\r\n            //use autoTable plugin\r\n            autoTable(pdf, {\r\n                columns,\r\n                body: this.distinctRecords,\r\n                margin:{top: 30}\r\n            });\r\n            //show total stock\r\n            pdf.setFontSize(16).text('Total products: ' + this.total, 80, 20);\r\n            //download pdf\r\n            pdf.save(\"Products.pdf\");\r\n        },\r\n        //Download the excel format of the product table\r\n        downloadExcel() {\r\n          const filteredProductsWithoutUseless = this.filteredProducts.map(products => {\r\n            return {\r\n                ProductID: products.id,\r\n                Name: products.name,\r\n                Type: products.type,\r\n                Quantity: products.quantity,\r\n                PurchasePrice: products.purchasePrice,\r\n                SalePrice: products.sellPrice,\r\n                Description: products.remarks,\r\n\r\n            };\r\n          });\r\n          // Create a new workbook\r\n          const wb = XLSX.utils.book_new();\r\n          // Add a new worksheet to the workbook\r\n          const ws = XLSX.utils.json_to_sheet(filteredProductsWithoutUseless);\r\n          // Add the worksheet to the workbook\r\n          XLSX.utils.book_append_sheet(wb, ws, 'Products');\r\n          // Write the workbook to a binary string\r\n          const wbout = XLSX.write(wb, { bookType: 'xlsx', type: 'binary' });\r\n          // Convert the binary string to a Blob object\r\n          const blob = new Blob([s2ab(wbout)], { type: 'application/octet-stream' });\r\n          // Create a temporary link to the file and trigger a download\r\n          const url = window.URL.createObjectURL(blob);\r\n          const link = document.createElement('a');\r\n          link.href = url;\r\n          link.download = 'Products.xlsx';\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n        }\r\n    },\r\n    async created(){\r\n        //Get all customers data with distinct names when the page is being loaded\r\n        // await this.getDistinctRecords()\r\n        await this.getAllRecords()\r\n        this.itemsPerPage = this.distinctRecords.length\r\n    },\r\n    computed:{\r\n        //Get required products after searching\r\n        filteredRecords(){\r\n            return this.distinctRecords.filter(record => record.来源.toLowerCase().includes(this.search.toLowerCase()));\r\n        },\r\n        //Get total number of records\r\n        total(){\r\n            return this.distinctRecords.reduce((total,curr)=>(total+=1),0);\r\n        },\r\n        totalPages(){\r\n            return (Math.ceil(this.products.length / this.itemsPerPage))\r\n        }\r\n    }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}