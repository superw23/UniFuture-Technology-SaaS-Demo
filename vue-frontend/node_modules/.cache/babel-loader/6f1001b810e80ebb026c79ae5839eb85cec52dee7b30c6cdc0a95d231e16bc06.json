{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"modal fade\",\n  id: \"addUser\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"addUserLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_3 = {\n  class: \"modal-dialog modal-dialog-scrollable\"\n};\nconst _hoisted_4 = {\n  class: \"modal-content\"\n};\nconst _hoisted_5 = {\n  class: \"modal-header\"\n};\nconst _hoisted_6 = {\n  class: \"modal-title\",\n  id: \"addUserLabel\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"modal-body\"\n};\nconst _hoisted_9 = {\n  class: \"input-group rounded\"\n};\nconst _hoisted_10 = [\"placeholder\"];\nconst _hoisted_11 = {\n  class: \"list-group\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_14 = {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n};\nconst _hoisted_15 = {\n  class: \"row col-md-4 offset-md-4\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"alert alert-success\"\n};\nconst _hoisted_17 = {\n  key: 1,\n  class: \"alert alert-danger\"\n};\nconst _hoisted_18 = {\n  class: \"panel panel-primary\"\n};\nconst _hoisted_19 = {\n  class: \"panel-body\"\n};\nconst _hoisted_20 = {\n  for: \"userName\"\n};\nconst _hoisted_21 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_22 = [\"placeholder\"];\nconst _hoisted_23 = {\n  id: \"datalistUser\"\n};\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-append\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#addUser\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"input-group-text\",\n  type: \"button\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-search\",\n  style: {\n    \"font-size\": \"24px\"\n  }\n})])], -1 /* HOISTED */);\nconst _hoisted_25 = {\n  class: \"form-group\"\n};\nconst _hoisted_26 = {\n  for: \"newRole\",\n  class: \"form-label\"\n};\nconst _hoisted_27 = {\n  selected: \"\",\n  disabled: \"\",\n  value: \"\"\n};\nconst _hoisted_28 = {\n  class: \"mt-3\"\n};\nconst _hoisted_29 = {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Change User Permission page \"), _createElementVNode(\"h2\", null, _toDisplayString(_ctx.$t('Change User Permission')), 1 /* TEXT */), _hoisted_1, _createCommentVNode(\" Find a user \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h5\", _hoisted_6, _toDisplayString(_ctx.$t('Find a User')), 1 /* TEXT */), _hoisted_7]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"search\",\n    class: \"form-control rounded\",\n    placeholder: _ctx.$t('Search'),\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.userSearch = $event)\n  }, null, 8 /* PROPS */, _hoisted_10), [[_vModelText, $data.userSearch]])]), _createElementVNode(\"ul\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredUsers, user => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"list-group-item\",\n      key: user.id\n    }, [_createElementVNode(\"input\", {\n      class: \"form-check-input me-1\",\n      type: \"radio\",\n      onClick: $event => $options.setTempUser(user.name),\n      \"aria-label\": \"...\"\n    }, null, 8 /* PROPS */, _hoisted_12), _createTextVNode(\" \" + _toDisplayString(user.name), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", _hoisted_14, _toDisplayString(_ctx.$t('Cancel')), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    \"data-bs-dismiss\": \"modal\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.setUser && $options.setUser(...args))\n  }, _toDisplayString(_ctx.$t('OK')), 1 /* TEXT */)])])])]), _createElementVNode(\"div\", _hoisted_15, [_createCommentVNode(\" Show the following message if the user permission has been changed successfully\"), $data.isSuccess ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _toDisplayString(_ctx.$t('The user permission has been changed successfully!')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Show the following message if the user name is not found\"), $data.notFound ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _toDisplayString(_ctx.$t('User name is not found!')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Change User Permission form \"), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.reset && $options.reset(...args), [\"prevent\"]))\n  }, [_createCommentVNode(\" Input user name \"), _createElementVNode(\"label\", _hoisted_20, _toDisplayString(_ctx.$t('User Name')), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_21, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    list: \"datalistUser\",\n    class: \"form-control\",\n    placeholder: _ctx.$t('e.g. Ella'),\n    id: \"userName\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.userName = $event),\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_22), [[_vModelText, $data.userName]]), _createElementVNode(\"datalist\", _hoisted_23, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredUsers, user => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: user.id\n    }, _toDisplayString(user.name), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _hoisted_24]), _createCommentVNode(\" User permission \"), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"label\", _hoisted_26, _toDisplayString(_ctx.$t('Reset Permission')), 1 /* TEXT */), _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select\",\n    \"aria-label\": \"Default select example\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newRole = $event),\n    required: \"\"\n  }, [_createElementVNode(\"option\", _hoisted_27, _toDisplayString(_ctx.$t('Please choose a role')), 1 /* TEXT */), _createElementVNode(\"option\", null, _toDisplayString(_ctx.$t('Manager')), 1 /* TEXT */), _createElementVNode(\"option\", null, _toDisplayString(_ctx.$t('Warehouse Manager')), 1 /* TEXT */), _createElementVNode(\"option\", null, _toDisplayString(_ctx.$t('Purchase Manager')), 1 /* TEXT */), _createElementVNode(\"option\", null, _toDisplayString(_ctx.$t('Sales Personnel')), 1 /* TEXT */)], 512 /* NEED_PATCH */), [[_vModelSelect, $data.newRole]])]), _createCommentVNode(\" Click the button to submit the form to the backend \"), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"button\", _hoisted_29, _toDisplayString(_ctx.$t('Confirm')), 1 /* TEXT */)])], 32 /* HYDRATE_EVENTS */)])])])]);\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","id","tabindex","type","for","style","selected","disabled","value","_createElementBlock","_createCommentVNode","_ctx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","placeholder","$data","_hoisted_11","_Fragment","$options","user","key","onClick","name","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","onSubmit","_hoisted_20","_hoisted_21","list","required","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29"],"sourceRoot":"","sources":["C:\\Users\\SuperW\\Desktop\\暑期实习\\vue-frontend\\src\\components\\Others\\User\\ChangeUserPermission.vue"],"sourcesContent":["// Made by GRPTeam202205\r\n<template>\r\n    <div>\r\n        <!-- Change User Permission page -->\r\n        <h2>{{$t('Change User Permission')}}</h2>\r\n        <hr />\r\n\r\n        <!-- Find a user -->\r\n        <div class=\"modal fade\" id=\"addUser\" tabindex=\"-1\" aria-labelledby=\"addUserLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog modal-dialog-scrollable\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"addUserLabel\">{{$t('Find a User')}}</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"input-group rounded\">\r\n                            <input type=\"search\" class=\"form-control rounded\" :placeholder=\"$t('Search')\" v-model=\"userSearch\"/>\r\n                        </div>\r\n                        <ul class=\"list-group\">\r\n                            <li class=\"list-group-item\" v-for=\"user in filteredUsers\" :key=\"user.id\">\r\n                                <input class=\"form-check-input me-1\" type=\"radio\" @click=\"setTempUser(user.name)\" aria-label=\"...\">\r\n                                {{user.name}}\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">{{$t('Cancel')}}</button>\r\n                        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"setUser\">{{$t('OK')}}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row col-md-4 offset-md-4\">\r\n            <!-- Show the following message if the user permission has been changed successfully-->\r\n            <div class=\"alert alert-success\" v-if=\"isSuccess\">\r\n                {{$t('The user permission has been changed successfully!')}}\r\n            </div>\r\n            <!-- Show the following message if the user name is not found-->\r\n            <div class=\"alert alert-danger\" v-if=\"notFound\">\r\n                {{$t('User name is not found!')}}\r\n            </div>\r\n            <!-- Change User Permission form -->\r\n            <div class=\"panel panel-primary\">\r\n                <div class=\"panel-body\">\r\n                    <form @submit.prevent=\"reset\">\r\n                        <!-- Input user name -->\r\n                        <label for=\"userName\">{{$t('User Name')}}</label>\r\n                        <div class=\"input-group mb-3\">\r\n                            <input type=\"text\" list=\"datalistUser\" class=\"form-control\" :placeholder=\"$t('e.g. Ella')\" id= \"userName\" v-model=\"userName\" required> \r\n                            <datalist id=\"datalistUser\">\r\n                                <option v-for = \"user in filteredUsers\" :key = \"user.id\">{{user.name}}</option>   \r\n                            </datalist>\r\n                            <div class=\"input-group-append\" data-bs-toggle=\"modal\" data-bs-target=\"#addUser\">\r\n                                <button class=\"input-group-text\" type=\"button\">\r\n                                    <i class=\"fa fa-search\" style=\"font-size:24px\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <!-- User permission -->\r\n                        <div class=\"form-group\">\r\n                            <label for=\"newRole\" class=\"form-label\">{{$t('Reset Permission')}}</label>\r\n                            <select class=\"form-select\" aria-label=\"Default select example\" v-model=\"newRole\" required>\r\n                                <option selected disabled value=\"\">{{$t('Please choose a role')}}</option>\r\n                                <option>{{$t('Manager')}}</option>\r\n                                <option>{{$t('Warehouse Manager')}}</option>\r\n                                <option>{{$t('Purchase Manager')}}</option>\r\n                                <option>{{$t('Sales Personnel')}}</option>\r\n                            </select>\r\n                        </div>\r\n                        <!-- Click the button to submit the form to the backend -->\r\n                        <div class=\"mt-3\">\r\n                            <button type=\"submit\" class=\"btn btn-primary\" >\r\n                                {{$t('Confirm')}}\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport UserService from '@/services/User/UserService'\r\nexport default {\r\n    data() {\r\n        return {\r\n            userName: '',//store the name of the user\r\n            userSearch: '',//store search content\r\n            tempUserName: '',//store the name of the user temporarily\r\n            role: '',//store the role of the user\r\n            newRole: '',//store the new role of the user\r\n            isSuccess: false,//true if the user permission has been changed successfully, else false\r\n            notFound: false,//true if the user name is not found, else false\r\n            users:[],\r\n        };\r\n    },\r\n    methods: {\r\n        //reset the user permission\r\n        reset() {\r\n            axios\r\n                .get('resetUserPermission', {params:{userName:this.userName,\r\n                    newRole: this.newRole}\r\n                })\r\n                .then((response) => {\r\n                    if(response.data==''){\r\n                        this.isSuccess = false;\r\n                        this.notFound = true;\r\n                    }\r\n                    else{\r\n                        this.isSuccess = true;\r\n                        this.notFound = false;\r\n                        this.userName = ''\r\n                        this.newRole = ''\r\n                    }\r\n                });\r\n        },\r\n        //get all users\r\n        getUsers(){\r\n            UserService.getUsers().then((response)=>{\r\n                this.users = response.data;\r\n            });\r\n        },\r\n        setUser(){\r\n            this.userName = this.tempUserName\r\n        },\r\n        setTempUser(name){\r\n            this.tempUserName = name\r\n        },\r\n    },\r\n    computed:{\r\n        //Get required users after searching\r\n        filteredUsers(){\r\n            return this.users.filter(user => user.name.toLowerCase().includes(this.userSearch.toLowerCase()));\r\n        },\r\n    },\r\n    created(){\r\n        this.getUsers()\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.box{\r\n    background-color: lightblue;\r\n    min-height: 50px;\r\n    width: 200px;\r\n    position: relative;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}