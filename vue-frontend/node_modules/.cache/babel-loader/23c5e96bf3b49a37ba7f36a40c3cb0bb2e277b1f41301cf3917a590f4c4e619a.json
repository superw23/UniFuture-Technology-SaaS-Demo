{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport SaleService from '../../services/Sale/SaleService';\nimport RevenueService from '../../services/Sale/RevenueService';\nimport PopularSaleService from '../../services/Sale/PopularSaleService';\nimport CustomerService from '../../services/Customer/CustomerService';\nimport BilibiliService from '../../services/Bilibili/BilibiliService';\nimport ToDoService from '../../services/TodoList/ToDoService';\nimport Chart from 'chart.js/auto';\nimport axios from 'axios';\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      customers: [],\n      products: [],\n      sales: [],\n      labels: [],\n      chLabels: ['哔哩哔哩', '抖音', '原神', '上海广播电视台'],\n      enLabels: ['Bilibili', 'Tik Tok', 'Genshin', 'SMG'],\n      label: '',\n      chLabel: '数量',\n      enLabel: 'Quantity',\n      barLabel: '',\n      enBarLabel: 'Income',\n      chBarLabel: '收入',\n      language: '',\n      food: '',\n      clothes: '',\n      appliances: '',\n      drink: '',\n      mostpopularTypeRevenue: '',\n      secondPopularTypeRevenue: '',\n      thirdPopularTypeRevenue: '',\n      othersRevenue: '',\n      mostPopularType: '',\n      secondPopularType: '',\n      thirdPopularType: '',\n      otherType: '',\n      mostPopularTypeNum: '',\n      secondPopularTypeNum: '',\n      thirdPopularTypeNum: '',\n      otherTypeNum: '',\n      daySale: '',\n      periodSale: '',\n      recentSales: '',\n      productWithHighestPopularity: '',\n      productWithSecondPopularity: '',\n      productWithThirdPopularity: '',\n      productWithFourthPopularity: '',\n      firstProductSaleNum: 0,\n      secondProductSaleNum: 0,\n      thirdProductSaleNum: 0,\n      fourthProductSaleNum: 0,\n      todoHTML: '',\n      //todo-list html\n      todoContent: '',\n      //new item to be added to the todo-list\n      todoItems: [],\n      //todo items\n      chart: Chart,\n      pieChart: Chart\n    };\n  },\n  methods: {\n    uploadFile() {\n      const file = this.$refs.fileInput.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          const fileDataUrl = reader.result;\n          axios.post(\"/upload\", {\n            file: fileDataUrl\n          }).then(response => {\n            console.log(response.data);\n          }).catch(error => {\n            console.error(error);\n          });\n        };\n        reader.readAsDataURL(file);\n      }\n    },\n    //Add to-do item in the todo-list\n    async addToDo() {\n      if (this.todoContent != '') {\n        await axios.post(`addTodoItem`, {\n          content: this.todoContent,\n          completed: 'false'\n        }).then(response => {});\n      }\n      this.getToDoItems();\n      this.todoContent = '';\n    },\n    //Get all to-do items \n    getToDoItems() {\n      ToDoService.getToDoItems().then(response => {\n        this.todoItems = response.data;\n      });\n    },\n    //Mark the todo item as completed\n    markCompleted(content) {\n      ToDoService.markCompleted(content);\n    },\n    //Mark the todo item as uncompleted\n    markUncompleted(content) {\n      ToDoService.markUncompleted(content);\n    },\n    //Delete a given todo item \n    deleteToDoItem(content) {\n      ToDoService.deleteItemByContent(content);\n      this.getToDoItems();\n    },\n    //Get all sales from the database\n    getSales() {\n      SaleService.getSales().then(response => {\n        this.sales = response.data;\n      });\n    },\n    //Get all customers from the database\n    getCustomers() {\n      CustomerService.getCustomers().then(response => {\n        this.customers = response.data;\n      });\n    },\n    //Get all products from the database\n    getProducts() {\n      BilibiliService.getAllInfo().then(response => {\n        this.products = response.data;\n      });\n    },\n    //Get the number of products of the most popular type\n    getNumOfMostPopularType() {\n      PopularSaleService.getNumOfMostPopularType(this.mostPopularType).then(response => {\n        this.mostPopularTypeNum = response.data;\n      });\n    },\n    //Get the number of products of the second popular type\n    getNumOfSecondPopularType() {\n      PopularSaleService.getNumOfSecondPopularType(this.secondPopularType).then(response => {\n        this.secondPopularTypeNum = response.data;\n      });\n    },\n    //Get the number of products of the third popular type\n    getNumOfThirdPopularType() {\n      PopularSaleService.getNumOfThirdPopularType(this.thirdPopularType).then(response => {\n        this.thirdPopularTypeNum = response.data;\n      });\n    },\n    //Get the number of remaining products of the remaining types \n    async getNumOfOtherTypes() {\n      await PopularSaleService.getNumOfOtherTypes(this.mostPopularType, this.secondPopularType, this.thirdPopularType).then(response => {\n        this.otherTypeNum = response.data;\n        this.createPieChart();\n      });\n    },\n    //Get the total price of most Popular Type Revenue\n    getRevenueOfMostPopularType() {\n      RevenueService.getTotalOfMostPopularTypeRevenue().then(response => {\n        this.mostPopularTypeRevenue = response.data;\n      });\n    },\n    //Get the total price of Second Popular Type\n    getRevenueOfSecondPopularType() {\n      RevenueService.getTotalOfSecondPopularTypeRevenue().then(response => {\n        this.secondPopularTypeRevenue = response.data;\n      });\n    },\n    //Get the total price of Third Popular Type\n    getRevenueOfThirdPopularType() {\n      RevenueService.getTotalOfThirdPopularType().then(response => {\n        this.thirdPopularTypeRevenue = response.data;\n      });\n    },\n    //Get the total price of others revenue\n    getRevenueOfOthersRevenue() {\n      this.getRevenueOfMostPopularType(), this.getRevenueOfSecondPopularType(), this.getRevenueOfThirdPopularType(), RevenueService.getTotalOfOthersRevenue().then(response => {\n        this.othersRevenue = response.data;\n        this.createChart();\n      });\n    },\n    //Get total revenue of a given date\n    async getOneDaySaleTotal(date) {\n      await RevenueService.getOneDaySaleTotal(date).then(response => {\n        this.daySale = response.data;\n      });\n      return this.daySale;\n    },\n    //Get total revenue within given dates\n    async getPeriodSaleTotal(startDate, endDate) {\n      await RevenueService.getPeriodSaleTotal(startDate, endDate).then(response => {\n        this.periodSale = response.data;\n      });\n      return this.periodSale;\n    },\n    //Create a bar chart to show the number of products in the inventory\n    createChart() {\n      var chartID = this.$refs.myChart;\n      if (this.$i18n.locale == 'ch') {\n        chartID = this.$refs.myChartCh;\n        this.label = this.chBarLabel;\n        this.labels = this.chLabels;\n      } else {\n        this.label = this.enBarLabel;\n        this.labels = ['Bilibili', 'Tik Tok', 'Genshin', 'SMG'];\n      }\n      this.chart = new Chart(chartID, {\n        type: 'bar',\n        locale: this.$i18n.locale,\n        data: {\n          labels: this.labels,\n          datasets: [{\n            label: this.label,\n            data: [this.mostPopularTypeRevenue, this.secondPopularTypeRevenue, this.thirdPopularTypeRevenue, this.othersRevenue],\n            backgroundColor: 'rgb(153, 102, 255, 0.2)',\n            borderColor: 'rgb(153, 102, 255, 1)'\n          }]\n        },\n        responsiveOptions: true\n      });\n    },\n    //Create a bar chart that shows the overall revenue according to product types\n    createOverallChart() {\n      this.chart.destroy();\n      var chartID = this.$refs.myChart;\n      if (this.$i18n.locale == 'ch') {\n        chartID = this.$refs.myChartCh;\n        this.barLabel = this.chBarLabel;\n        this.labels = this.chLabels;\n      } else {\n        this.barLabel = this.enBarLabel;\n        this.labels = [this.mostPopularType, this.secondPopularType, this.thirdPopularType, 'Others'];\n      }\n      this.chart = new Chart(chartID, {\n        type: 'bar',\n        locale: this.$i18n.locale,\n        data: {\n          labels: this.labels,\n          datasets: [{\n            label: this.barLabel,\n            data: [this.mostPopularTypeRevenue, this.secondPopularTypeRevenue, this.thirdPopularTypeRevenue, this.othersRevenue],\n            backgroundColor: 'rgb(153, 102, 255, 0.2)',\n            borderColor: 'rgb(153, 102, 255, 1)'\n          }]\n        },\n        responsiveOptions: true\n      });\n    },\n    //Create a bar chart that shows the weekly revenue according to product types\n    async createWeekChart() {\n      this.chart.destroy();\n      var date = new Date();\n      function getDate(date, i) {\n        let oneDay = 24 * 60 * 60 * 1000;\n        var now = new Date(date - i * oneDay);\n        var nowDate = now.getDate();\n        var mon = now.getMonth() + 1;\n        var year = now.getFullYear();\n        var s = year + \"-\" + (mon < 10 ? '0' + mon : mon) + \"-\" + (nowDate < 10 ? '0' + nowDate : nowDate);\n        return s;\n      }\n      var chartID = this.$refs.myChart;\n      if (this.$i18n.locale == 'ch') {\n        chartID = this.$refs.myChartCh;\n        this.barLabel = this.chBarLabel;\n        this.labels = this.chLabels;\n      } else {\n        this.barLabel = this.enBarLabel;\n        this.labels = this.enLabels;\n      }\n      this.chart = new Chart(chartID, {\n        type: 'bar',\n        locale: this.$i18n.locale,\n        data: {\n          labels: [getDate(date, 6), getDate(date, 5), getDate(date, 4), getDate(date, 3), getDate(date, 2), getDate(date, 1), getDate(date, 0)],\n          datasets: [{\n            label: this.barLabel,\n            data: [await this.getOneDaySaleTotal(getDate(date, 6)), await this.getOneDaySaleTotal(getDate(date, 5)), await this.getOneDaySaleTotal(getDate(date, 4)), await this.getOneDaySaleTotal(getDate(date, 3)), await this.getOneDaySaleTotal(getDate(date, 2)), await this.getOneDaySaleTotal(getDate(date, 1)), await this.getOneDaySaleTotal(getDate(date, 0))],\n            backgroundColor: 'rgb(153, 102, 255, 0.2)',\n            borderColor: 'rgb(153, 102, 255, 1)'\n          }]\n        },\n        responsiveOptions: true\n      });\n    },\n    //Create a bar chart that shows the monthly revenue according to product types\n    async createMonthChart() {\n      this.chart.destroy();\n      var chartID = this.$refs.myChart;\n      var date = new Date();\n      function getBeforeMonth(date, i) {\n        var now = new Date(date);\n        var ds = new Date(now.setMonth(now.getMonth() - i));\n        var year = ds.getFullYear();\n        var mon = ds.getMonth() + 1;\n        var s = year + \"-\" + (mon < 10 ? '0' + mon : mon);\n        return s;\n      }\n      if (this.$i18n.locale == 'ch') {\n        chartID = this.$refs.myChartCh;\n        this.barLabel = this.chBarLabel;\n        this.labels = this.chLabels;\n      } else {\n        this.barLabel = this.enBarLabel;\n        this.labels = this.enLabels;\n      }\n      this.chart = new Chart(chartID, {\n        type: 'bar',\n        locale: this.$i18n.locale,\n        data: {\n          labels: [getBeforeMonth(date, 5), getBeforeMonth(date, 4), getBeforeMonth(date, 3), getBeforeMonth(date, 2), getBeforeMonth(date, 1), getBeforeMonth(date, 0)],\n          datasets: [{\n            label: this.barLabel,\n            data: [await (this.getPeriodSaleTotal(getBeforeMonth(date, 5) + '-01', getBeforeMonth(date, 4) + '-01') - this.getOneDaySaleTotal(getBeforeMonth(date, 4) + '-01')), await (this.getPeriodSaleTotal(getBeforeMonth(date, 4) + '-01', getBeforeMonth(date, 3) + '-01') - this.getOneDaySaleTotal(getBeforeMonth(date, 3) + '-01')), await (this.getPeriodSaleTotal(getBeforeMonth(date, 3) + '-01', getBeforeMonth(date, 2) + '-01') - this.getOneDaySaleTotal(getBeforeMonth(date, 2) + '-01')), await (this.getPeriodSaleTotal(getBeforeMonth(date, 2) + '-01', getBeforeMonth(date, 1) + '-01') - this.getOneDaySaleTotal(getBeforeMonth(date, 1) + '-01')), await (this.getPeriodSaleTotal(getBeforeMonth(date, 1) + '-01', getBeforeMonth(date, 0) + '-01') - this.getOneDaySaleTotal(getBeforeMonth(date, 0) + '-01')), await this.getPeriodSaleTotal(getBeforeMonth(date, 0) + '-01', date)],\n            backgroundColor: 'rgb(153, 102, 255, 0.2)',\n            borderColor: 'rgb(153, 102, 255, 1)'\n          }]\n        },\n        responsiveOptions: true\n      });\n    },\n    //Create a bar chart that shows the yearly revenue according to product types\n    async createYearChart() {\n      this.chart.destroy();\n      var chartID = this.$refs.myChart;\n      var date = new Date();\n      function getBeforeYear(date, i) {\n        var now = new Date(date);\n        var ds = new Date(now.setFullYear(now.getFullYear() - i));\n        var year = ds.getFullYear();\n        var s = year;\n        return s;\n      }\n      if (this.$i18n.locale == 'ch') {\n        chartID = this.$refs.myChartCh;\n        this.barLabel = this.chBarLabel;\n        this.labels = this.chLabels;\n      } else {\n        this.barLabel = this.enBarLabel;\n        this.labels = this.enLabels;\n      }\n      this.chart = new Chart(chartID, {\n        type: 'bar',\n        locale: this.$i18n.locale,\n        data: {\n          labels: [getBeforeYear(date, 3), getBeforeYear(date, 2), getBeforeYear(date, 1), getBeforeYear(date, 0)],\n          datasets: [{\n            label: this.barLabel,\n            data: [await (this.getPeriodSaleTotal(getBeforeYear(date, 3) + '-01' + '-01', getBeforeYear(date, 2) + '-01' + '-01') - this.getOneDaySaleTotal(getBeforeYear(date, 2) + '-01' + '-01')), await (this.getPeriodSaleTotal(getBeforeYear(date, 2) + '-01' + '-01', getBeforeYear(date, 1) + '-01' + '-01') - this.getOneDaySaleTotal(getBeforeYear(date, 1) + '-01' + '-01')), await (this.getPeriodSaleTotal(getBeforeYear(date, 1) + '-01' + '-01', getBeforeYear(date, 0) + '-01' + '-01') - this.getOneDaySaleTotal(getBeforeYear(date, 0) + '-01' + '-01')), await this.getPeriodSaleTotal(getBeforeYear(date, 3) + '-01' + '-01', date)],\n            backgroundColor: 'rgb(153, 102, 255, 0.2)',\n            borderColor: 'rgb(153, 102, 255, 1)'\n          }]\n        },\n        responsiveOptions: true\n      });\n    },\n    //Create a pie chart to show the number of ordered products according to product types\n    createPieChart() {\n      var chartID = this.$refs.doughnutChart;\n      if (this.$i18n.locale == 'ch') {\n        chartID = this.$refs.doughnutChartCh;\n        this.label = this.chLabel;\n        this.labels = this.chLabels;\n      } else {\n        this.label = this.enLabel;\n        this.labels = [this.mostPopularType, this.secondPopularType, this.thirdPopularType, 'Others'];\n      }\n      const doughnutData = {\n        labels: this.labels,\n        datasets: [{\n          label: this.label,\n          data: [this.mostPopularTypeNum, this.secondPopularTypeNum, this.thirdPopularTypeNum, this.otherTypeNum],\n          backgroundColor: ['rgba(255, 99, 132)', 'rgba(34,139,34)', 'rgba(54, 162, 235)', 'rgba(255, 205, 86)'],\n          hoverOffset: 4\n        }]\n      };\n      const config = {\n        type: 'doughnut',\n        locale: this.$i18n.locale,\n        responsiveOptions: true,\n        data: doughnutData\n      };\n      this.pieChart = new Chart(chartID, config);\n    },\n    //Get the most popular product\n    async getMostPopularProduct() {\n      await PopularSaleService.getMostPopularProduct().then(response => {\n        this.productWithHighestPopularity = response.data;\n        this.getFirstSaleNum(this.productWithHighestPopularity);\n      });\n      return this.productWithHighestPopularity;\n    },\n    //Get the second popular product\n    async getSecondPopularProduct() {\n      await PopularSaleService.getSecondPopularProduct(this.productWithHighestPopularity).then(response => {\n        this.productWithSecondPopularity = response.data;\n        this.getSecondSaleNum(this.productWithSecondPopularity);\n      });\n      return this.productWithSecondPopularity;\n    },\n    //Get the third popular product\n    async getThirdPopularProduct() {\n      await PopularSaleService.getThirdPopularProduct(this.productWithHighestPopularity, this.productWithSecondPopularity).then(response => {\n        this.productWithThirdPopularity = response.data;\n        this.getThirdSaleNum(this.productWithThirdPopularity);\n      });\n      return this.productWithThirdPopularity;\n    },\n    //Get the fourth popular product\n    async getFourthPopularProduct() {\n      await PopularSaleService.getFourthPopularProduct(this.productWithHighestPopularity, this.productWithSecondPopularity, this.productWithThirdPopularity).then(response => {\n        this.productWithFourthPopularity = response.data;\n        this.getFourthSaleNum(this.productWithFourthPopularity);\n      });\n      return this.productWithFourthPopularity;\n    },\n    //Get the most popular product type\n    getMostPopularType() {\n      PopularSaleService.getMostPopularType().then(response => {\n        this.mostPopularType = response.data;\n        this.getNumOfMostPopularType(this.mostPopularType);\n      });\n    },\n    //Get the second popular product type\n    getSecondPopularType() {\n      PopularSaleService.getSecondPopularType().then(response => {\n        this.secondPopularType = response.data;\n        this.getNumOfSecondPopularType(this.secondPopularType);\n      });\n    },\n    //Get the third popular product type\n    async getThirdPopularType() {\n      this.getMostPopularType();\n      this.getSecondPopularType();\n      await PopularSaleService.getThirdPopularType().then(response => {\n        this.thirdPopularType = response.data;\n        this.getNumOfThirdPopularType(this.thirdPopularType);\n        this.getNumOfOtherTypes();\n      });\n    },\n    //Get total quantity of the most popular product \n    getFirstSaleNum() {\n      if (this.productWithHighestPopularity != '') {\n        PopularSaleService.getProductSaleNum(this.productWithHighestPopularity).then(response => {\n          this.firstProductSaleNum = response.data;\n        });\n      }\n    },\n    //Get total quantity of the second popular product \n    getSecondSaleNum() {\n      if (this.productWithSecondPopularity != '') {\n        PopularSaleService.getProductSaleNum(this.productWithSecondPopularity).then(response => {\n          this.secondProductSaleNum = response.data;\n        });\n      }\n    },\n    //Get total quantity of the third popular product \n    getThirdSaleNum() {\n      if (this.productWithThirdPopularity != '') {\n        PopularSaleService.getProductSaleNum(this.productWithThirdPopularity).then(response => {\n          this.thirdProductSaleNum = response.data;\n        });\n      }\n    },\n    //Get total quantity of the fourth popular product \n    getFourthSaleNum() {\n      if (this.productWithFourthPopularity != '') {\n        PopularSaleService.getProductSaleNum(this.productWithFourthPopularity).then(response => {\n          this.fourthProductSaleNum = response.data;\n        });\n      }\n    },\n    //Get six recent sales records\n    getRecentSales() {\n      SaleService.getRecentSales().then(response => {\n        this.recentSales = response.data;\n      });\n    },\n    //Go to group chat page.\n    groupChat() {\n      this.$router.push({\n        path: '/communication'\n      });\n    }\n  },\n  //Execute the following functions when the page is being loaded\n  async created() {\n    this.getThirdPopularType();\n    this.getRevenueOfOthersRevenue();\n    await this.getMostPopularProduct();\n    await this.getSecondPopularProduct();\n    await this.getThirdPopularProduct();\n    await this.getFourthPopularProduct();\n    this.getSales(), this.getCustomers(), this.getProducts(), this.getToDoItems(), this.getRecentSales();\n  },\n  computed: {\n    //Get total revenue\n    totalPrice() {\n      return this.sales.reduce((total, curr) => total = total + curr.price * curr.num, 0).toFixed(2);\n    },\n    //Get total number of products sold \n    total() {\n      return this.sales.reduce((total, curr) => total = total + curr.num, 0);\n    },\n    //Get total number of customers \n    totalCustomers() {\n      return this.customers.length;\n    },\n    //Get total net profit\n    netProfit() {\n      return this.products.reduce((total, curr) => total = total + (curr.sellPrice - curr.purchasePrice) * curr.quantity, 0).toFixed(2);\n    },\n    //Get total number of products in the inventory\n    totalProducts() {\n      return this.products.reduce((total, curr) => total = total + curr.quantity, 0);\n    },\n    //Get todo items that have been completed\n    checkedItems() {\n      return this.todoItems.filter(item => item.completed == 'true');\n    },\n    //Get todo items that have not been completed yet\n    uncheckedItems() {\n      return this.todoItems.filter(item => item.completed == 'false');\n    },\n    //Set the percentage of the most popular product\n    mostPopularProductStyle() {\n      var percent = this.firstProductSaleNum / this.total;\n      return \"width: \" + percent * 100 + \"%\";\n    },\n    //Set the percentage of the second popular product\n    secondPopularProductStyle() {\n      var percent = this.secondProductSaleNum / this.total;\n      return \"width: \" + percent * 100 + \"%\";\n    },\n    //Set the percentage of the third popular product\n    thirdPopularProductStyle() {\n      var percent = this.thirdProductSaleNum / this.total;\n      return \"width: \" + percent * 100 + \"%\";\n    },\n    //Set the percentage of the fourth popular product\n    fourthPopularProductStyle() {\n      var percent = this.fourthProductSaleNum / this.total;\n      return \"width: \" + percent * 100 + \"%\";\n    }\n  },\n  watch: {\n    '$i18n.locale'(newValue) {\n      if (this.$i18n.locale == 'ch') {\n        this.chart.destroy();\n        this.pieChart.destroy();\n        this.createWeekChart();\n        this.createPieChart();\n      } else {\n        this.chart.destroy();\n        this.pieChart.destroy();\n        this.createChart();\n        this.createPieChart();\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["SaleService","RevenueService","PopularSaleService","CustomerService","BilibiliService","ToDoService","Chart","axios","name","data","customers","products","sales","labels","chLabels","enLabels","label","chLabel","enLabel","barLabel","enBarLabel","chBarLabel","language","food","clothes","appliances","drink","mostpopularTypeRevenue","secondPopularTypeRevenue","thirdPopularTypeRevenue","othersRevenue","mostPopularType","secondPopularType","thirdPopularType","otherType","mostPopularTypeNum","secondPopularTypeNum","thirdPopularTypeNum","otherTypeNum","daySale","periodSale","recentSales","productWithHighestPopularity","productWithSecondPopularity","productWithThirdPopularity","productWithFourthPopularity","firstProductSaleNum","secondProductSaleNum","thirdProductSaleNum","fourthProductSaleNum","todoHTML","todoContent","todoItems","chart","pieChart","methods","uploadFile","file","$refs","fileInput","files","reader","FileReader","onload","fileDataUrl","result","post","then","response","console","log","catch","error","readAsDataURL","addToDo","content","completed","getToDoItems","markCompleted","markUncompleted","deleteToDoItem","deleteItemByContent","getSales","getCustomers","getProducts","getAllInfo","getNumOfMostPopularType","getNumOfSecondPopularType","getNumOfThirdPopularType","getNumOfOtherTypes","createPieChart","getRevenueOfMostPopularType","getTotalOfMostPopularTypeRevenue","mostPopularTypeRevenue","getRevenueOfSecondPopularType","getTotalOfSecondPopularTypeRevenue","getRevenueOfThirdPopularType","getTotalOfThirdPopularType","getRevenueOfOthersRevenue","getTotalOfOthersRevenue","createChart","getOneDaySaleTotal","date","getPeriodSaleTotal","startDate","endDate","chartID","myChart","$i18n","locale","myChartCh","type","datasets","backgroundColor","borderColor","responsiveOptions","createOverallChart","destroy","createWeekChart","Date","getDate","i","oneDay","now","nowDate","mon","getMonth","year","getFullYear","s","createMonthChart","getBeforeMonth","ds","setMonth","createYearChart","getBeforeYear","setFullYear","doughnutChart","doughnutChartCh","doughnutData","hoverOffset","config","getMostPopularProduct","getFirstSaleNum","getSecondPopularProduct","getSecondSaleNum","getThirdPopularProduct","getThirdSaleNum","getFourthPopularProduct","getFourthSaleNum","getMostPopularType","getSecondPopularType","getThirdPopularType","getProductSaleNum","getRecentSales","groupChat","$router","push","path","created","computed","totalPrice","reduce","total","curr","price","num","toFixed","totalCustomers","length","netProfit","sellPrice","purchasePrice","quantity","totalProducts","checkedItems","filter","item","uncheckedItems","mostPopularProductStyle","percent","secondPopularProductStyle","thirdPopularProductStyle","fourthPopularProductStyle","watch","newValue"],"sourceRoot":"","sources":["C:\\Users\\Ella\\Desktop\\vue-frontend\\src\\components\\Dashboard\\Home.vue"],"sourcesContent":["//Adapted By GRPTeam202205 (MIT license)\r\n<template>\r\n    <!-- Home page -->\r\n    <div class=\"container-fluid mt-3\">\r\n        <!-- Figures to show the statistics of the management -->\r\n        <div class=\"row\">\r\n            <!-- Show total revenue -->\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card gradient-4\">\r\n                    <div class=\"card-body\">\r\n                        <h3 class=\"card-title text-white\">{{$t('Total Revenue')}}</h3>\r\n                        <div class=\"d-inline-block\">\r\n                            <h2 class=\"text-white\">{{totalPrice}}</h2>\r\n                            <p class=\"text-white mb-0\">{{$t('Jan - April 2023')}}</p>\r\n                        </div>\r\n                        <span class=\"float-right display-5 opacity-5\"><i class=\"fa fa-heart\"></i></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- Show total net profit -->\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card gradient-2\">\r\n                    <div class=\"card-body\">\r\n                        <h3 class=\"card-title text-white\">{{$t('Net Profit')}}</h3>\r\n                        <div class=\"d-inline-block\">\r\n                            <h2 class=\"text-white\">$ {{netProfit}}</h2>\r\n                            <p class=\"text-white mb-0\">{{$t('Jan - April 2023')}}</p>\r\n                        </div>\r\n                        <span class=\"float-right display-5 opacity-5\"><i class=\"fa fa-money\"></i></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- Show total number of customers -->\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card gradient-3\">\r\n                    <div class=\"card-body\">\r\n                        <h3 class=\"card-title text-white\">{{$t('Total Customers')}}</h3>\r\n                        <div class=\"d-inline-block\">\r\n                            <h2 class=\"text-white\">{{totalCustomers}}</h2>\r\n                            <p class=\"text-white mb-0\">{{$t('Jan - April 2023')}}</p>\r\n                        </div>\r\n                        <span class=\"float-right display-5 opacity-5\"><i class=\"fa fa-users\"></i></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- Show total products sold -->\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card gradient-1\">\r\n                    <div class=\"card-body\">\r\n                        <h3 class=\"card-title text-white\" type='button' @click=\"uploadFile\">{{$t('Upload File')}}</h3>\r\n                        <div class=\"d-inline-block\">\r\n                            <input type=\"file\" ref=\"fileInput\" accept=\".xlsx, .xls\">\r\n                            <!-- <button @click=\"uploadFile\">Upload</button> -->\r\n                            <!-- <h2 class=\"text-white\" >{{total}}</h2> -->\r\n                        </div>\r\n                        <span class=\"float-right display-6.5 opacity-5\"><i class=\"fa fa-shopping-cart\"></i></span> \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <h1>File Upload</h1>\r\n            <input type=\"file\" ref=\"fileInput\" accept=\".xlsx, .xls\">\r\n            <button @click=\"uploadFile\">Upload</button>\r\n        </div>\r\n        <!-- Show the number of products in the inventory using a bar chart -->\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-12\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body pb-0 d-flex justify-content-between\">\r\n                                <div class=\"text-center\">\r\n                                </div>\r\n                                <div>\r\n                                    <ul>\r\n                                        <li class=\"d-inline-block mr-3\"><a class=\"text-dark\" type=\"button\" @click=\"createOverallChart\">{{$t('Overall')}}</a></li>\r\n                                        <li class=\"d-inline-block mr-3\"><a class=\"text-dark\" type=\"button\" @click=\"createWeekChart\">{{$t('Week')}}</a></li>\r\n                                        <li class=\"d-inline-block mr-3\"><a class=\"text-dark\" type=\"button\" @click=\"createMonthChart\">{{$t('Month')}}</a></li>\r\n                                        <li class=\"d-inline-block\"><a class=\"text-dark\" type=\"button\" @click=\"createYearChart\">{{$t('Year')}}</a></li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"chart-wrapper\">\r\n                                <canvas width=\"50;\" height=\"306\" ref=\"myChart\" v-show=\"this.$i18n.locale=='en'\" responsive=true></canvas>\r\n                                <canvas width=\"50;\" height=\"306\" ref=\"myChartCh\" v-show=\"this.$i18n.locale=='ch'\" responsive=true></canvas>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Show the number of ordered products using a pie chart -->\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6 col-md-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\" >\r\n                        <h5 class=\"text-muted\">{{$t('Order Summary')}}</h5>\r\n                        <div class=\"chart-wrapper\" > \r\n                        <canvas ref=\"doughnutChart\" v-show=\"this.$i18n.locale=='en'\" responsive=true></canvas>\r\n                        <canvas ref=\"doughnutChartCh\" v-show=\"this.$i18n.locale=='ch'\" responsive=true></canvas>\r\n                        </div>\r\n                    </div>\r\n                </div>                \r\n            </div>    \r\n            <div class=\"col-lg-3 col-md-6\">\r\n                <div class=\"card card-widget\">\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"text-muted\">{{$t('Order Overview')}}</h5>\r\n                        <h3 class=\"text-muted\">{{$t('Top 4 popular products')}}</h3>\r\n                        <div class=\"mt-4\">\r\n                            <h6 class=\"m-t-10 text-muted\">{{productWithHighestPopularity}}</h6>\r\n                            <div class=\"progress mb-3\" style=\"height: 10px\">\r\n                                <div class=\"progress-bar bg-primary\" :style=\"mostPopularProductStyle\" role=\"progressbar\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mt-4\">\r\n                            <h6 class=\"m-t-10 text-muted\">{{productWithSecondPopularity}}</h6>\r\n                            <div class=\"progress mb-3\" style=\"height: 10px\">\r\n                                <div class=\"progress-bar bg-success\" :style=\"secondPopularProductStyle\" role=\"progressbar\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mt-4\">\r\n                            <h6 class=\"m-t-10 text-muted\">{{productWithThirdPopularity}}</h6>\r\n                            <div class=\"progress mb-3\" style=\"height: 10px\">\r\n                                <div class=\"progress-bar bg-warning\" :style=\"thirdPopularProductStyle\" role=\"progressbar\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mt-4\">\r\n                            <h6 class=\"m-t-10 text-muted\">{{productWithFourthPopularity}}</h6>\r\n                            <div class=\"progress mb-3\" style=\"height: 10px\">\r\n                                <div class=\"progress-bar bg-warning\" :style=\"fourthPopularProductStyle\" role=\"progressbar\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <h3 class=\"text-muted\">{{$t('Best selling product')}}</h3>\r\n                        <h3 class=\"text-muted\">{{productWithHighestPopularity}}</h3>\r\n                        <span></span>\r\n                    </div>\r\n                </div>             \r\n            </div>\r\n            <div class=\"col-lg-3 col-md-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body px-0\">\r\n                        <h4 class=\"text-muted\">{{$t('Todo')}}</h4>\r\n                        <div class=\"todo-list\">\r\n                            <div class=\"tdl-holder\">\r\n                                <div class=\"tdl-content\" style=\"position:relative;height:400px;overflow:auto\" >\r\n                                    <ul id=\"todo_list\" v-for=\"item in uncheckedItems\" :key=\"item.id\">\r\n                                        <li><label><input type=\"checkbox\" @click=\"markCompleted(item.content)\" required/><i></i><span>{{item.content}}</span><a class=\"ti-trash\" type=\"button\" @click=\"deleteToDoItem(item.content)\"></a></label></li> \r\n                                    </ul>\r\n                                    <ul id=\"todo_list\" v-for=\"item in checkedItems\" :key=\"item.id\">\r\n                                        <li><label><input type=\"checkbox\" checked @click=\"markUncompleted(item.content)\" required/><i></i><span>{{item.content}}</span><a class=\"ti-trash\" type=\"button\" @click=\"deleteToDoItem(item.content)\"></a></label></li> \r\n                                    </ul>\r\n                                </div>\r\n                                <div class=\"px-4\">\r\n                                    <input type=\"text\" class=\"tdl-new form-control\" v-model=\"this.todoContent\" :placeholder=\"$t('Hit Enter to add new items')\" @keyup.enter=\"addToDo\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Show recent six sales -->\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"active-member\">\r\n                            <h4 class=\"mb-1 \" type=\"\">{{$t('Recent Sales')}}</h4>\r\n                            <div class=\"table-responsive\">\r\n                                <table class=\"table table-xs mb-0\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>{{$t('Customer.Customer')}}</th>\r\n                                            <th>{{$t('Product.Product')}}</th>\r\n                                            <th>{{$t('Quantity')}}</th>\r\n                                            <th>{{$t('Total')}}</th>\r\n                                            <th>{{$t('Supplier.Supplier')}}</th>\r\n                                            <th>{{$t('Date')}}</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr v-for = \"sale in recentSales\" v-bind:key = \"sale.id\" class=\"table-bordered\">\r\n                                            <td>{{sale.customerName}}</td>\r\n                                            <td>{{sale.name}}</td>\r\n                                            <td>{{sale.num}}</td>\r\n                                            <td>{{sale.total}}</td>\r\n                                            <td>{{sale.supplierName}}</td>\r\n                                            <td>{{sale.date}}</td>                                      \r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>                        \r\n            </div>\r\n        </div>\r\n\r\n        <!-- Show important managers -->\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"text-center\">\r\n                            <img src=\"../../../public/frontend/images/users/8.png\" class=\"rounded-circle\" alt=\"\">\r\n                            <h5 class=\"mt-3 mb-1\">{{$t('Sally')}}</h5>\r\n                            <p class=\"m-0\">{{$t('Manager')}}</p>\r\n                            <a href=\"javascript:void()\" class=\"btn btn-sm btn-warning\" @click=\"groupChat\">{{$t('Send Message')}}</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"text-center\">\r\n                            <img src=\"../../../public/frontend/images/users/5.png\" class=\"rounded-circle\" alt=\"\">\r\n                            <h5 class=\"mt-3 mb-1\">{{$t('Tom')}}</h5>\r\n                            <p class=\"m-0\">{{$t('Warehouse Manager')}}</p>\r\n                            <a href=\"javascript:void()\" class=\"btn btn-sm btn-warning\" @click=\"groupChat\">{{$t('Send Message')}}</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"text-center\">\r\n                            <img src=\"../../../public/frontend/images/users/7.png\" class=\"rounded-circle\" alt=\"\">\r\n                            <h5 class=\"mt-3 mb-1\">{{$t('Ella')}}</h5>\r\n                            <p class=\"m-0\">{{$t('Purchase Manager')}}</p>\r\n                            <a href=\"javascript:void()\" class=\"btn btn-sm btn-warning\"  @click=\"groupChat\">{{$t('Send Message')}}</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"text-center\">\r\n                            <img src=\"../../../public/frontend/images/users/1.png\" class=\"rounded-circle\" alt=\"\">\r\n                            <h5 class=\"mt-3 mb-1\">{{$t('Beta')}}</h5>\r\n                            <p class=\"m-0\">{{$t('Sales Personnel')}}</p>\r\n                            <a href=\"javascript:void()\" class=\"btn btn-sm btn-warning\"  @click=\"groupChat\">{{$t('Send Message')}}</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Show friends and followers -->\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"social-graph-wrapper widget-facebook\">\r\n                        <span class=\"s-icon\"><i class=\"fa fa-solid fa-shop\"></i></span>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-6 border-right\">\r\n                            <div class=\"pt-3 pb-3 pl-0 pr-0 text-center\">\r\n                                <h4 class=\"m-1\">89k</h4>\r\n                                <p class=\"m-0\">{{$t('Friends')}}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <div class=\"pt-3 pb-3 pl-0 pr-0 text-center\">\r\n                                <h4 class=\"m-1\">119k</h4>\r\n                                <p class=\"m-0\">{{$t('Followers')}}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"social-graph-wrapper widget-linkedin\">\r\n                        <span class=\"s-icon\"><i class=\"fa fa-solid fa-warehouse\"></i></span>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-6 border-right\">\r\n                            <div class=\"pt-3 pb-3 pl-0 pr-0 text-center\">\r\n                                <h4 class=\"m-1\">89k</h4>\r\n                                <p class=\"m-0\">{{$t('Friends')}}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <div class=\"pt-3 pb-3 pl-0 pr-0 text-center\">\r\n                                <h4 class=\"m-1\">119k</h4>\r\n                                <p class=\"m-0\">{{$t('Followers')}}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"social-graph-wrapper widget-googleplus\">\r\n                        <span class=\"s-icon\"><i class=\"fa fa-brands fa-sellsy\"></i></span>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-6 border-right\">\r\n                            <div class=\"pt-3 pb-3 pl-0 pr-0 text-center\">\r\n                                <h4 class=\"m-1\">89k</h4>\r\n                                <p class=\"m-0\">{{$t('Friends')}}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <div class=\"pt-3 pb-3 pl-0 pr-0 text-center\">\r\n                                <h4 class=\"m-1\">119k</h4>\r\n                                <p class=\"m-0\">{{$t('Followers')}}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-3 col-sm-6\">\r\n                <div class=\"card\">\r\n                    <div class=\"social-graph-wrapper widget-twitter\">\r\n                        <span class=\"s-icon\"><i class=\"fa fa-solid fa-globe\"></i></span>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-6 border-right\">\r\n                            <div class=\"pt-3 pb-3 pl-0 pr-0 text-center\">\r\n                                <h4 class=\"m-1\">89k</h4>\r\n                                <p class=\"m-0\">{{$t('Friends')}}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <div class=\"pt-3 pb-3 pl-0 pr-0 text-center\">\r\n                                <h4 class=\"m-1\">119k</h4>\r\n                                <p class=\"m-0\">{{$t('Followers')}}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SaleService from '../../services/Sale/SaleService'\r\nimport RevenueService from '../../services/Sale/RevenueService'\r\nimport PopularSaleService from '../../services/Sale/PopularSaleService'\r\nimport CustomerService from '../../services/Customer/CustomerService'\r\nimport BilibiliService from '../../services/Bilibili/BilibiliService'\r\nimport ToDoService from '../../services/TodoList/ToDoService'\r\nimport Chart from 'chart.js/auto'\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'Home',\r\n    data(){\r\n        return{\r\n            customers: [],\r\n            products: [],\r\n            sales: [],\r\n            labels: [],\r\n            chLabels: [\r\n                    '哔哩哔哩',\r\n                    '抖音',\r\n                    '原神',\r\n                    '上海广播电视台'\r\n                ],\r\n            enLabels: [\r\n                    'Bilibili',\r\n                    'Tik Tok',\r\n                    'Genshin',\r\n                    'SMG'\r\n                ],\r\n            label: '',\r\n            chLabel: '数量',\r\n            enLabel: 'Quantity',\r\n            barLabel: '',\r\n            enBarLabel: 'Income',\r\n            chBarLabel: '收入',\r\n            language: '',\r\n            food: '',\r\n            clothes: '',\r\n            appliances: '',\r\n            drink: '',\r\n            mostpopularTypeRevenue: '',\r\n            secondPopularTypeRevenue: '',\r\n            thirdPopularTypeRevenue: '',\r\n            othersRevenue: '',\r\n            mostPopularType: '',\r\n            secondPopularType: '',\r\n            thirdPopularType: '',\r\n            otherType: '',\r\n            mostPopularTypeNum: '',\r\n            secondPopularTypeNum: '',\r\n            thirdPopularTypeNum: '',\r\n            otherTypeNum: '',\r\n            daySale:'',\r\n            periodSale:'',\r\n            recentSales: '',\r\n            productWithHighestPopularity: '',\r\n            productWithSecondPopularity: '',\r\n            productWithThirdPopularity: '',\r\n            productWithFourthPopularity:'',\r\n            firstProductSaleNum: 0,\r\n            secondProductSaleNum: 0,\r\n            thirdProductSaleNum: 0,\r\n            fourthProductSaleNum: 0,\r\n            todoHTML: '',//todo-list html\r\n            todoContent: '',//new item to be added to the todo-list\r\n            todoItems: [],//todo items\r\n            chart: Chart,\r\n            pieChart: Chart\r\n        }\r\n    },\r\n    methods:{\r\n        uploadFile() {\r\n            const file = this.$refs.fileInput.files[0];\r\n\r\n            if (file) {\r\n                const reader = new FileReader();\r\n                reader.onload = () => {\r\n                    const fileDataUrl = reader.result;\r\n\r\n                    axios.post(\"/upload\", { file: fileDataUrl }).then(response => {\r\n                        console.log(response.data);\r\n                    }).catch(error => {\r\n                        console.error(error);\r\n                    })\r\n                };\r\n\r\n                reader.readAsDataURL(file);\r\n            }\r\n        },\r\n        //Add to-do item in the todo-list\r\n        async addToDo(){\r\n            if(this.todoContent!=''){\r\n                await axios\r\n                    .post(`addTodoItem`, {\r\n                        content: this.todoContent,\r\n                        completed: 'false'\r\n                    })\r\n                    .then((response) => {\r\n                    });\r\n            }\r\n            this.getToDoItems()\r\n            this.todoContent = ''\r\n        },\r\n        //Get all to-do items \r\n        getToDoItems(){\r\n            ToDoService.getToDoItems().then((response)=>{\r\n                this.todoItems = response.data;\r\n            });\r\n        },\r\n        //Mark the todo item as completed\r\n        markCompleted(content){\r\n            ToDoService.markCompleted(content);\r\n        },\r\n        //Mark the todo item as uncompleted\r\n        markUncompleted(content){\r\n            ToDoService.markUncompleted(content);\r\n        },\r\n        //Delete a given todo item \r\n        deleteToDoItem(content){\r\n            ToDoService.deleteItemByContent(content);\r\n            this.getToDoItems()\r\n        },\r\n        //Get all sales from the database\r\n        getSales(){\r\n            SaleService.getSales().then((response)=>{\r\n                this.sales = response.data;\r\n            });\r\n        },\r\n        //Get all customers from the database\r\n        getCustomers(){\r\n            CustomerService.getCustomers().then((response)=>{\r\n                this.customers = response.data;\r\n            });\r\n        },\r\n        //Get all products from the database\r\n        getProducts(){\r\n            BilibiliService.getAllInfo().then((response)=>{\r\n                this.products = response.data;\r\n            });\r\n        },\r\n        //Get the number of products of the most popular type\r\n        getNumOfMostPopularType(){\r\n            PopularSaleService.getNumOfMostPopularType(this.mostPopularType).then((response)=>{\r\n                this.mostPopularTypeNum = response.data;\r\n            });\r\n        },\r\n        //Get the number of products of the second popular type\r\n        getNumOfSecondPopularType(){\r\n            PopularSaleService.getNumOfSecondPopularType(this.secondPopularType).then((response)=>{\r\n                this.secondPopularTypeNum = response.data;\r\n            });\r\n        },\r\n        //Get the number of products of the third popular type\r\n        getNumOfThirdPopularType(){\r\n            PopularSaleService.getNumOfThirdPopularType(this.thirdPopularType).then((response)=>{\r\n                this.thirdPopularTypeNum = response.data;\r\n            });\r\n        },\r\n        //Get the number of remaining products of the remaining types \r\n        async getNumOfOtherTypes(){\r\n            await PopularSaleService.getNumOfOtherTypes(this.mostPopularType, this.secondPopularType, this.thirdPopularType).then((response)=>{\r\n                this.otherTypeNum = response.data;\r\n                this.createPieChart();\r\n            });\r\n        },\r\n        //Get the total price of most Popular Type Revenue\r\n        getRevenueOfMostPopularType(){\r\n            RevenueService.getTotalOfMostPopularTypeRevenue().then((response)=>{\r\n                this.mostPopularTypeRevenue = response.data;\r\n            });\r\n        },\r\n        //Get the total price of Second Popular Type\r\n        getRevenueOfSecondPopularType(){\r\n            RevenueService.getTotalOfSecondPopularTypeRevenue().then((response)=>{\r\n                this.secondPopularTypeRevenue = response.data;\r\n            });\r\n        },\r\n        //Get the total price of Third Popular Type\r\n        getRevenueOfThirdPopularType(){\r\n            RevenueService.getTotalOfThirdPopularType().then((response)=>{\r\n                this.thirdPopularTypeRevenue = response.data;\r\n            });\r\n        },\r\n        //Get the total price of others revenue\r\n        getRevenueOfOthersRevenue(){\r\n            this.getRevenueOfMostPopularType(),\r\n            this.getRevenueOfSecondPopularType(),\r\n            this.getRevenueOfThirdPopularType(),\r\n            RevenueService.getTotalOfOthersRevenue().then((response)=>{\r\n              this.othersRevenue = response.data; \r\n              this.createChart();\r\n            });\r\n        },\r\n        //Get total revenue of a given date\r\n        async getOneDaySaleTotal(date){\r\n            await RevenueService.getOneDaySaleTotal(date).then((response)=>{\r\n              this.daySale = response.data;\r\n            });\r\n            return this.daySale;\r\n        },\r\n        //Get total revenue within given dates\r\n        async getPeriodSaleTotal(startDate,endDate){\r\n            await RevenueService.getPeriodSaleTotal(startDate,endDate).then((response)=>{\r\n                this.periodSale = response.data;\r\n            });\r\n            return this.periodSale;\r\n        },\r\n        //Create a bar chart to show the number of products in the inventory\r\n        createChart(){\r\n            var chartID = this.$refs.myChart;\r\n            if(this.$i18n.locale=='ch'){\r\n                chartID = this.$refs.myChartCh\r\n                this.label = this.chBarLabel;\r\n                this.labels = this.chLabels;\r\n            }\r\n            else{\r\n              this.label = this.enBarLabel;\r\n              this.labels = [\r\n                'Bilibili',\r\n                'Tik Tok',\r\n                'Genshin',\r\n                'SMG'\r\n              ];\r\n            }\r\n            this.chart = new Chart(\r\n                chartID,\r\n                {\r\n                    type: 'bar',\r\n                    locale: this.$i18n.locale,\r\n                    data: {\r\n                        labels: this.labels,\r\n                        datasets: [\r\n                            {\r\n                                label: this.label,\r\n                                data: [this.mostPopularTypeRevenue, this.secondPopularTypeRevenue, this.thirdPopularTypeRevenue, this.othersRevenue],\r\n                                backgroundColor: 'rgb(153, 102, 255, 0.2)',\r\n                                borderColor: 'rgb(153, 102, 255, 1)'\r\n                            }\r\n                        ]\r\n                    },\r\n                    responsiveOptions:true\r\n                }\r\n            );\r\n        },\r\n        //Create a bar chart that shows the overall revenue according to product types\r\n        createOverallChart(){\r\n            this.chart.destroy()\r\n            var chartID = this.$refs.myChart;\r\n            if(this.$i18n.locale=='ch'){\r\n              chartID = this.$refs.myChartCh\r\n              this.barLabel = this.chBarLabel;\r\n              this.labels = this.chLabels;\r\n            }\r\n            else{\r\n              this.barLabel = this.enBarLabel;\r\n              this.labels = [\r\n                    this.mostPopularType,\r\n                    this.secondPopularType,\r\n                    this.thirdPopularType,\r\n                    'Others'\r\n                ];\r\n            }\r\n            this.chart = new Chart(\r\n                chartID,\r\n                {\r\n                type: 'bar',\r\n                locale: this.$i18n.locale,\r\n                data: {\r\n                    labels: this.labels,\r\n                    datasets: [\r\n                    {\r\n                        label: this.barLabel,\r\n                        data: [this.mostPopularTypeRevenue, this.secondPopularTypeRevenue, this.thirdPopularTypeRevenue, this.othersRevenue],\r\n                        backgroundColor: 'rgb(153, 102, 255, 0.2)',\r\n                        borderColor: 'rgb(153, 102, 255, 1)'\r\n                    }\r\n                    ]\r\n                },\r\n                responsiveOptions:true\r\n                }\r\n            );\r\n        },\r\n        //Create a bar chart that shows the weekly revenue according to product types\r\n        async createWeekChart(){\r\n            this.chart.destroy()\r\n            var date = new Date();\r\n            function getDate(date,i){\r\n              let oneDay = 24 * 60 * 60 * 1000;\r\n              var now = new Date(date-i*oneDay);\r\n              var nowDate = now.getDate();\r\n              var mon = now.getMonth()+1;\r\n              var year = now.getFullYear();\r\n              var s = year+\"-\"+(mon<10?('0'+mon):mon)+\"-\"+(nowDate<10?('0'+nowDate):nowDate);\r\n              return s;\r\n            }\r\n            var chartID = this.$refs.myChart;\r\n            if(this.$i18n.locale=='ch'){\r\n              chartID = this.$refs.myChartCh\r\n              this.barLabel = this.chBarLabel;\r\n              this.labels = this.chLabels;\r\n            }\r\n            else{\r\n              this.barLabel = this.enBarLabel;\r\n              this.labels = this.enLabels;\r\n            }\r\n            this.chart = new Chart(\r\n                chartID,\r\n                {\r\n                  type: 'bar',\r\n                  locale: this.$i18n.locale,\r\n                  data: {\r\n                    labels: [getDate(date,6),getDate(date,5),getDate(date,4),getDate(date,3),getDate(date,2),getDate(date,1),getDate(date,0)],\r\n                    datasets: [\r\n                      {\r\n                        label: this.barLabel,\r\n                        data: [await this.getOneDaySaleTotal(getDate(date,6)),\r\n                          await this.getOneDaySaleTotal(getDate(date,5)),\r\n                          await this.getOneDaySaleTotal(getDate(date,4)),\r\n                          await this.getOneDaySaleTotal(getDate(date,3)),\r\n                          await this.getOneDaySaleTotal(getDate(date,2)),\r\n                          await this.getOneDaySaleTotal(getDate(date,1)),\r\n                          await this.getOneDaySaleTotal(getDate(date,0))],\r\n                        backgroundColor: 'rgb(153, 102, 255, 0.2)',\r\n                        borderColor: 'rgb(153, 102, 255, 1)'\r\n                      }\r\n                    ]\r\n                  },\r\n                  responsiveOptions:true\r\n                }\r\n            );\r\n        },\r\n        //Create a bar chart that shows the monthly revenue according to product types\r\n        async createMonthChart(){\r\n          this.chart.destroy()\r\n          var chartID = this.$refs.myChart;\r\n          var date = new Date();\r\n          function getBeforeMonth(date, i) {\r\n            var now = new Date(date);\r\n            var ds = new Date(now.setMonth(now.getMonth() - i));\r\n            var year = ds.getFullYear();\r\n            var mon = ds.getMonth() + 1;\r\n            var s = year+\"-\"+(mon<10?('0'+mon):mon);\r\n            return s;\r\n          }\r\n          if(this.$i18n.locale=='ch'){\r\n            chartID = this.$refs.myChartCh\r\n            this.barLabel = this.chBarLabel;\r\n            this.labels = this.chLabels;\r\n          }\r\n          else{\r\n            this.barLabel = this.enBarLabel;\r\n            this.labels = this.enLabels;\r\n          }\r\n          this.chart = new Chart(\r\n              chartID,\r\n              {\r\n                type: 'bar',\r\n                locale: this.$i18n.locale,\r\n                data: {\r\n                  labels: [getBeforeMonth(date, 5), getBeforeMonth(date, 4), getBeforeMonth(date, 3), getBeforeMonth(date, 2), getBeforeMonth(date, 1), getBeforeMonth(date, 0)],\r\n                  datasets: [\r\n                    {\r\n                      label: this.barLabel,\r\n                      data: [await (this.getPeriodSaleTotal(getBeforeMonth(date, 5)+'-01',getBeforeMonth(date, 4)+'-01')-this.getOneDaySaleTotal(getBeforeMonth(date, 4)+'-01')),\r\n                        await (this.getPeriodSaleTotal(getBeforeMonth(date, 4)+'-01',getBeforeMonth(date, 3)+'-01')-this.getOneDaySaleTotal(getBeforeMonth(date, 3)+'-01')),\r\n                        await (this.getPeriodSaleTotal(getBeforeMonth(date, 3)+'-01',getBeforeMonth(date, 2)+'-01')-this.getOneDaySaleTotal(getBeforeMonth(date, 2)+'-01')),\r\n                        await (this.getPeriodSaleTotal(getBeforeMonth(date, 2)+'-01',getBeforeMonth(date, 1)+'-01')-this.getOneDaySaleTotal(getBeforeMonth(date, 1)+'-01')),\r\n                        await (this.getPeriodSaleTotal(getBeforeMonth(date, 1)+'-01',getBeforeMonth(date, 0)+'-01')-this.getOneDaySaleTotal(getBeforeMonth(date, 0)+'-01')),\r\n                        await this.getPeriodSaleTotal(getBeforeMonth(date, 0)+'-01',date)],\r\n                      backgroundColor: 'rgb(153, 102, 255, 0.2)',\r\n                      borderColor: 'rgb(153, 102, 255, 1)'\r\n                    }\r\n                  ]\r\n                },\r\n                responsiveOptions:true\r\n              }\r\n          );\r\n        },\r\n        //Create a bar chart that shows the yearly revenue according to product types\r\n        async createYearChart(){\r\n          this.chart.destroy()\r\n          var chartID = this.$refs.myChart;\r\n          var date = new Date();\r\n          function getBeforeYear(date, i) {\r\n            var now = new Date(date);\r\n            var ds = new Date(now.setFullYear(now.getFullYear() - i));\r\n            var year = ds.getFullYear();\r\n            var s = year;\r\n            return s;\r\n          }\r\n          if(this.$i18n.locale=='ch'){\r\n            chartID = this.$refs.myChartCh\r\n            this.barLabel = this.chBarLabel;\r\n            this.labels = this.chLabels;\r\n          }\r\n          else{\r\n            this.barLabel = this.enBarLabel;\r\n            this.labels = this.enLabels;\r\n          }\r\n          this.chart = new Chart(\r\n              chartID,\r\n              {\r\n                type: 'bar',\r\n                locale: this.$i18n.locale,\r\n                data: {\r\n                  labels: [getBeforeYear(date, 3),getBeforeYear(date, 2),getBeforeYear(date, 1), getBeforeYear(date, 0)],\r\n                  datasets: [\r\n                    {\r\n                      label: this.barLabel,\r\n                      data: [await (this.getPeriodSaleTotal(getBeforeYear(date, 3)+'-01'+'-01',getBeforeYear(date,2)+'-01'+'-01')-this.getOneDaySaleTotal(getBeforeYear(date,2)+'-01'+'-01')),\r\n                        await (this.getPeriodSaleTotal(getBeforeYear(date, 2)+'-01'+'-01',getBeforeYear(date,1)+'-01'+'-01')-this.getOneDaySaleTotal(getBeforeYear(date,1)+'-01'+'-01')),\r\n                        await (this.getPeriodSaleTotal(getBeforeYear(date, 1)+'-01'+'-01',getBeforeYear(date,0)+'-01'+'-01')-this.getOneDaySaleTotal(getBeforeYear(date,0)+'-01'+'-01')),\r\n                        await this.getPeriodSaleTotal(getBeforeYear(date, 3)+'-01'+'-01',date)],\r\n                      backgroundColor: 'rgb(153, 102, 255, 0.2)',\r\n                      borderColor: 'rgb(153, 102, 255, 1)'\r\n                    }\r\n                  ]\r\n                },\r\n                responsiveOptions:true\r\n              }\r\n          );\r\n        },\r\n        //Create a pie chart to show the number of ordered products according to product types\r\n        createPieChart(){\r\n            var chartID = this.$refs.doughnutChart;\r\n            if(this.$i18n.locale=='ch'){\r\n                chartID = this.$refs.doughnutChartCh\r\n                this.label = this.chLabel;\r\n                this.labels = this.chLabels;\r\n            }  \r\n            else{\r\n                this.label = this.enLabel;\r\n                this.labels = [\r\n                    this.mostPopularType,\r\n                    this.secondPopularType,\r\n                    this.thirdPopularType,\r\n                    'Others'\r\n                ];\r\n            } \r\n            const doughnutData = {\r\n                labels: this.labels,\r\n                datasets: [{\r\n                    label: this.label,\r\n                    data: [this.mostPopularTypeNum, this.secondPopularTypeNum, this.thirdPopularTypeNum, this.otherTypeNum],\r\n                    backgroundColor: [\r\n                    'rgba(255, 99, 132)',\r\n                    'rgba(34,139,34)',\r\n                    'rgba(54, 162, 235)',\r\n                    'rgba(255, 205, 86)'\r\n                    ],\r\n                    hoverOffset: 4\r\n                }]\r\n            };\r\n            const config = {\r\n                type: 'doughnut',\r\n                locale: this.$i18n.locale,\r\n                responsiveOptions:true,\r\n                data: doughnutData\r\n            };\r\n            this.pieChart = new Chart(\r\n                chartID,\r\n                config\r\n            );\r\n        },\r\n        //Get the most popular product\r\n        async getMostPopularProduct(){\r\n            await PopularSaleService.getMostPopularProduct().then((response)=>{\r\n                this.productWithHighestPopularity = response.data\r\n                this.getFirstSaleNum(this.productWithHighestPopularity)\r\n            })\r\n            return this.productWithHighestPopularity;\r\n        },\r\n        //Get the second popular product\r\n        async getSecondPopularProduct(){\r\n            await PopularSaleService.getSecondPopularProduct(this.productWithHighestPopularity).then((response)=>{\r\n                this.productWithSecondPopularity = response.data\r\n                this.getSecondSaleNum(this.productWithSecondPopularity)\r\n            })\r\n            return this.productWithSecondPopularity;\r\n        },\r\n        //Get the third popular product\r\n        async getThirdPopularProduct(){\r\n            await PopularSaleService.getThirdPopularProduct(this.productWithHighestPopularity, this.productWithSecondPopularity).then((response)=>{\r\n                this.productWithThirdPopularity = response.data\r\n                this.getThirdSaleNum(this.productWithThirdPopularity)\r\n            })\r\n            return this.productWithThirdPopularity;\r\n        },\r\n        //Get the fourth popular product\r\n        async getFourthPopularProduct(){\r\n            await PopularSaleService.getFourthPopularProduct(this.productWithHighestPopularity, this.productWithSecondPopularity, this.productWithThirdPopularity).then((response)=>{\r\n                this.productWithFourthPopularity = response.data\r\n                this.getFourthSaleNum(this.productWithFourthPopularity)\r\n            })\r\n            return this.productWithFourthPopularity;\r\n        },\r\n        //Get the most popular product type\r\n        getMostPopularType(){\r\n            PopularSaleService.getMostPopularType().then((response)=>{\r\n                this.mostPopularType = response.data\r\n                this.getNumOfMostPopularType(this.mostPopularType)\r\n            })\r\n        },\r\n        //Get the second popular product type\r\n        getSecondPopularType(){\r\n            PopularSaleService.getSecondPopularType().then((response)=>{\r\n                this.secondPopularType = response.data\r\n                this.getNumOfSecondPopularType(this.secondPopularType)\r\n            })\r\n        },\r\n        //Get the third popular product type\r\n        async getThirdPopularType(){\r\n            this.getMostPopularType()\r\n            this.getSecondPopularType()\r\n            await PopularSaleService.getThirdPopularType().then((response)=>{\r\n                this.thirdPopularType = response.data\r\n                this.getNumOfThirdPopularType(this.thirdPopularType)\r\n                this.getNumOfOtherTypes()\r\n            })\r\n        },\r\n        //Get total quantity of the most popular product \r\n        getFirstSaleNum(){\r\n            if(this.productWithHighestPopularity!= ''){\r\n                PopularSaleService.getProductSaleNum(this.productWithHighestPopularity).then((response)=>{\r\n                    this.firstProductSaleNum = response.data\r\n                })\r\n            }\r\n        },\r\n        //Get total quantity of the second popular product \r\n        getSecondSaleNum(){\r\n            if(this.productWithSecondPopularity != ''){\r\n                PopularSaleService.getProductSaleNum(this.productWithSecondPopularity).then((response)=>{\r\n                    this.secondProductSaleNum = response.data\r\n                })\r\n            }\r\n        },\r\n        //Get total quantity of the third popular product \r\n        getThirdSaleNum(){\r\n            if(this.productWithThirdPopularity!= ''){\r\n                PopularSaleService.getProductSaleNum(this.productWithThirdPopularity).then((response)=>{\r\n                    this.thirdProductSaleNum = response.data\r\n                })\r\n            }\r\n        },\r\n        //Get total quantity of the fourth popular product \r\n        getFourthSaleNum(){\r\n            if(this.productWithFourthPopularity!= ''){\r\n                PopularSaleService.getProductSaleNum(this.productWithFourthPopularity).then((response)=>{\r\n                    this.fourthProductSaleNum = response.data\r\n                })\r\n            }\r\n        },\r\n        //Get six recent sales records\r\n        getRecentSales(){\r\n            SaleService.getRecentSales().then((response)=>{\r\n                this.recentSales = response.data\r\n            })\r\n        },\r\n        //Go to group chat page.\r\n        groupChat(){\r\n            this.$router.push({path:'/communication'})\r\n        },\r\n    },\r\n    //Execute the following functions when the page is being loaded\r\n    async created(){\r\n        this.getThirdPopularType()\r\n        this.getRevenueOfOthersRevenue()\r\n\r\n        await this.getMostPopularProduct()\r\n        await this.getSecondPopularProduct()\r\n        await this.getThirdPopularProduct()\r\n        await this.getFourthPopularProduct()\r\n\r\n        this.getSales(),\r\n        this.getCustomers(),\r\n        this.getProducts(),\r\n        \r\n        this.getToDoItems(),\r\n\r\n        this.getRecentSales()\r\n    },\r\n    computed:{\r\n        //Get total revenue\r\n        totalPrice(){\r\n            return this.sales.reduce((total,curr)=>(total=total + curr.price * curr.num),0).toFixed(2);\r\n        },\r\n        //Get total number of products sold \r\n        total(){\r\n            return this.sales.reduce((total,curr)=>(total=total+curr.num),0);\r\n        },\r\n        //Get total number of customers \r\n        totalCustomers(){\r\n            return this.customers.length;\r\n        },\r\n        //Get total net profit\r\n        netProfit(){\r\n            return this.products.reduce((total,curr)=>(total=total+(curr.sellPrice - curr.purchasePrice) * curr.quantity),0).toFixed(2);\r\n        },\r\n        //Get total number of products in the inventory\r\n        totalProducts(){\r\n            return this.products.reduce((total,curr)=>(total=total+curr.quantity),0);\r\n        },\r\n        //Get todo items that have been completed\r\n        checkedItems(){\r\n            return this.todoItems.filter(item=>item.completed=='true')\r\n        },\r\n        //Get todo items that have not been completed yet\r\n        uncheckedItems(){\r\n            return this.todoItems.filter(item=>item.completed=='false')\r\n        },\r\n        //Set the percentage of the most popular product\r\n        mostPopularProductStyle(){\r\n            var percent = this.firstProductSaleNum / this.total\r\n            return \"width: \" + percent*100 + \"%\"\r\n        },\r\n        //Set the percentage of the second popular product\r\n        secondPopularProductStyle(){\r\n            var percent = this.secondProductSaleNum / this.total\r\n            return \"width: \" + percent*100 + \"%\"\r\n        },\r\n        //Set the percentage of the third popular product\r\n        thirdPopularProductStyle(){\r\n            var percent = this.thirdProductSaleNum / this.total\r\n            return \"width: \" + percent*100 + \"%\"\r\n        },\r\n        //Set the percentage of the fourth popular product\r\n        fourthPopularProductStyle(){\r\n            var percent = this.fourthProductSaleNum / this.total\r\n            return \"width: \" + percent*100 + \"%\"\r\n        }\r\n    },\r\n    watch:{\r\n        '$i18n.locale'(newValue){\r\n            if(this.$i18n.locale=='ch'){\r\n                this.chart.destroy()\r\n                this.pieChart.destroy()\r\n                this.createWeekChart()\r\n                this.createPieChart()\r\n            }else{\r\n                this.chart.destroy()\r\n                this.pieChart.destroy()\r\n                this.createChart()\r\n                this.createPieChart()\r\n            }\r\n        }\r\n    }      \r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}